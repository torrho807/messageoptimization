<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- saved from url=(0074)http://doc.sagemath.org/html/en/thematic_tutorials/linear_programming.html -->
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    
    
    <title>Linear Programming (Mixed Integer) — Thematic Tutorials v6.8</title>
    
    <link rel="stylesheet" href="./Linear Programming (Mixed Integer) — Thematic Tutorials v6.8_files/sage.css" type="text/css">
    <link rel="stylesheet" href="./Linear Programming (Mixed Integer) — Thematic Tutorials v6.8_files/pygments.css" type="text/css">
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '6.8',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="./Linear Programming (Mixed Integer) — Thematic Tutorials v6.8_files/jquery.js"></script>
    <script type="text/javascript" src="./Linear Programming (Mixed Integer) — Thematic Tutorials v6.8_files/underscore.js"></script>
    <script type="text/javascript" src="./Linear Programming (Mixed Integer) — Thematic Tutorials v6.8_files/doctools.js"></script>
    <script type="text/javascript" src="./Linear Programming (Mixed Integer) — Thematic Tutorials v6.8_files/MathJax.js"></script>
    <script type="text/javascript" src="./Linear Programming (Mixed Integer) — Thematic Tutorials v6.8_files/MathJax.js"></script>
    <script type="text/javascript" src="./Linear Programming (Mixed Integer) — Thematic Tutorials v6.8_files/MathJax.js"></script>
    <link rel="shortcut icon" href="http://doc.sagemath.org/html/en/thematic_tutorials/_static/favicon.ico">
    <link rel="top" title="Thematic Tutorials v6.8" href="http://doc.sagemath.org/html/en/thematic_tutorials/index.html">
    <link rel="up" title="Thematic tutorial document tree" href="http://doc.sagemath.org/html/en/thematic_tutorials/toctree.html">
    <link rel="next" title="Number Theory and the RSA Public Key Cryptosystem" href="http://doc.sagemath.org/html/en/thematic_tutorials/numtheory_rsa.html">
    <link rel="prev" title="Bibliography" href="http://doc.sagemath.org/html/en/thematic_tutorials/lie/bibliography.html">
    <link rel="icon" href="http://doc.sagemath.org/html/en/thematic_tutorials/_static/sageicon.png" type="image/x-icon">

  <style type="text/css">.MathJax_Hover_Frame {border-radius: .25em; -webkit-border-radius: .25em; -moz-border-radius: .25em; -khtml-border-radius: .25em; box-shadow: 0px 0px 15px #83A; -webkit-box-shadow: 0px 0px 15px #83A; -moz-box-shadow: 0px 0px 15px #83A; -khtml-box-shadow: 0px 0px 15px #83A; border: 1px solid #A6D ! important; display: inline-block; position: absolute}
.MathJax_Hover_Arrow {position: absolute; width: 15px; height: 11px; cursor: pointer}
</style><style type="text/css">#MathJax_About {position: fixed; left: 50%; width: auto; text-align: center; border: 3px outset; padding: 1em 2em; background-color: #DDDDDD; color: black; cursor: default; font-family: message-box; font-size: 120%; font-style: normal; text-indent: 0; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; z-index: 201; border-radius: 15px; -webkit-border-radius: 15px; -moz-border-radius: 15px; -khtml-border-radius: 15px; box-shadow: 0px 10px 20px #808080; -webkit-box-shadow: 0px 10px 20px #808080; -moz-box-shadow: 0px 10px 20px #808080; -khtml-box-shadow: 0px 10px 20px #808080; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}
.MathJax_Menu {position: absolute; background-color: white; color: black; width: auto; padding: 5px 0px; border: 1px solid #CCCCCC; margin: 0; cursor: default; font: menu; text-align: left; text-indent: 0; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; z-index: 201; border-radius: 5px; -webkit-border-radius: 5px; -moz-border-radius: 5px; -khtml-border-radius: 5px; box-shadow: 0px 10px 20px #808080; -webkit-box-shadow: 0px 10px 20px #808080; -moz-box-shadow: 0px 10px 20px #808080; -khtml-box-shadow: 0px 10px 20px #808080; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}
.MathJax_MenuItem {padding: 1px 2em; background: transparent}
.MathJax_MenuArrow {position: absolute; right: .5em; color: #666666}
.MathJax_MenuActive .MathJax_MenuArrow {color: white}
.MathJax_MenuArrow.RTL {left: .5em; right: auto}
.MathJax_MenuCheck {position: absolute; left: .7em}
.MathJax_MenuCheck.RTL {right: .7em; left: auto}
.MathJax_MenuRadioCheck {position: absolute; left: .7em}
.MathJax_MenuRadioCheck.RTL {right: .7em; left: auto}
.MathJax_MenuLabel {padding: 1px 2em 3px 1.33em; font-style: italic}
.MathJax_MenuRule {border-top: 1px solid #DDDDDD; margin: 4px 3px}
.MathJax_MenuDisabled {color: GrayText}
.MathJax_MenuActive {background-color: #606872; color: white}
.MathJax_Menu_Close {position: absolute; width: 31px; height: 31px; top: -15px; left: -15px}
</style><style type="text/css">.MathJax_Preview .MJXc-math {color: inherit!important}
</style><style type="text/css">#MathJax_Zoom {position: absolute; background-color: #F0F0F0; overflow: auto; display: block; z-index: 301; padding: .5em; border: 1px solid black; margin: 0; font-weight: normal; font-style: normal; text-align: left; text-indent: 0; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; box-shadow: 5px 5px 15px #AAAAAA; -webkit-box-shadow: 5px 5px 15px #AAAAAA; -moz-box-shadow: 5px 5px 15px #AAAAAA; -khtml-box-shadow: 5px 5px 15px #AAAAAA; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}
#MathJax_ZoomOverlay {position: absolute; left: 0; top: 0; z-index: 300; display: inline-block; width: 100%; height: 100%; border: 0; padding: 0; margin: 0; background-color: white; opacity: 0; filter: alpha(opacity=0)}
#MathJax_ZoomFrame {position: relative; display: inline-block; height: 0; width: 0}
#MathJax_ZoomEventTrap {position: absolute; left: 0; top: 0; z-index: 302; display: inline-block; border: 0; padding: 0; margin: 0; background-color: white; opacity: 0; filter: alpha(opacity=0)}
</style><style type="text/css">.MathJax_Preview {color: #888}
#MathJax_Message {position: fixed; left: 1em; bottom: 1.5em; background-color: #E6E6E6; border: 1px solid #959595; margin: 0px; padding: 2px 8px; z-index: 102; color: black; font-size: 80%; width: auto; white-space: nowrap}
#MathJax_MSIE_Frame {position: absolute; top: 0; left: 0; width: 0px; z-index: 101; border: 0px; margin: 0px; padding: 0px}
.MathJax_Error {color: #CC0000; font-style: italic}
.MathJax .mo, .MathJax .mi {color: inherit ! important}
</style><style type="text/css">.MathJax_Display {text-align: center; margin: 1em 0em; position: relative; display: block!important; text-indent: 0; max-width: none; max-height: none; min-width: 0; min-height: 0; width: 100%}
.MathJax .merror {background-color: #FFFF88; color: #CC0000; border: 1px solid #CC0000; padding: 1px 3px; font-style: normal; font-size: 90%}
.MathJax .MJX-monospace {font-family: monospace}
.MathJax .MJX-sans-serif {font-family: sans-serif}
#MathJax_Tooltip {background-color: InfoBackground; color: InfoText; border: 1px solid black; box-shadow: 2px 2px 5px #AAAAAA; -webkit-box-shadow: 2px 2px 5px #AAAAAA; -moz-box-shadow: 2px 2px 5px #AAAAAA; -khtml-box-shadow: 2px 2px 5px #AAAAAA; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true'); padding: 3px 4px; z-index: 401; position: absolute; left: 0; top: 0; width: auto; height: auto; display: none}
.MathJax {display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 100%; font-size-adjust: none; text-indent: 0; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0; min-height: 0; border: 0; padding: 0; margin: 0}
.MathJax img, .MathJax nobr, .MathJax a {border: 0; padding: 0; margin: 0; max-width: none; max-height: none; min-width: 0; min-height: 0; vertical-align: 0; line-height: normal; text-decoration: none}
img.MathJax_strut {border: 0!important; padding: 0!important; margin: 0!important; vertical-align: 0!important}
.MathJax span {display: inline; position: static; border: 0; padding: 0; margin: 0; vertical-align: 0; line-height: normal; text-decoration: none}
.MathJax nobr {white-space: nowrap!important}
.MathJax img {display: inline!important; float: none!important}
.MathJax * {transition: none; -webkit-transition: none; -moz-transition: none; -ms-transition: none; -o-transition: none}
.MathJax_Processing {visibility: hidden; position: fixed; width: 0; height: 0; overflow: hidden}
.MathJax_Processed {display: none!important}
.MathJax_ExBox {display: block!important; overflow: hidden; width: 1px; height: 60ex; min-height: 0; max-height: none}
.MathJax .MathJax_EmBox {display: block!important; overflow: hidden; width: 1px; height: 60em; min-height: 0; max-height: none}
.MathJax .MathJax_HitBox {cursor: text; background: white; opacity: 0; filter: alpha(opacity=0)}
.MathJax .MathJax_HitBox * {filter: none; opacity: 1; background: transparent}
#MathJax_Tooltip * {filter: none; opacity: 1; background: transparent}
@font-face {font-family: MathJax_Blank; src: url('about:blank')}
.MathJax .noError {vertical-align: ; font-size: 90%; text-align: left; color: black; padding: 1px 3px; border: 1px solid}
</style><style type="text/css">.MJXc-script {font-size: .8em}
.MJXc-right {-webkit-transform-origin: right; -moz-transform-origin: right; -ms-transform-origin: right; -o-transform-origin: right; transform-origin: right}
.MJXc-bold {font-weight: bold}
.MJXc-italic {font-style: italic}
.MJXc-scr {font-family: MathJax_Script,'Times New Roman',Times,STIXGeneral,serif}
.MJXc-frak {font-family: MathJax_Fraktur,'Times New Roman',Times,STIXGeneral,serif}
.MJXc-sf {font-family: MathJax_SansSerif,'Times New Roman',Times,STIXGeneral,serif}
.MJXc-cal {font-family: MathJax_Caligraphic,'Times New Roman',Times,STIXGeneral,serif}
.MJXc-mono {font-family: MathJax_Typewriter,'Times New Roman',Times,STIXGeneral,serif}
.MJXc-largeop {font-size: 150%}
.MJXc-largeop.MJXc-int {vertical-align: -.2em}
.MJXc-math {display: inline-block; line-height: 1.2; text-indent: 0; font-family: 'Times New Roman',Times,STIXGeneral,serif; white-space: nowrap; border-collapse: collapse}
.MJXc-display {display: block; text-align: center; margin: 1em 0}
.MJXc-math span {display: inline-block}
.MJXc-box {display: block!important; text-align: center}
.MJXc-box:after {content: " "}
.MJXc-rule {display: block!important; margin-top: .1em}
.MJXc-char {display: block!important}
.MJXc-mo {margin: 0 .15em}
.MJXc-mfrac {margin: 0 .125em; vertical-align: .25em}
.MJXc-denom {display: inline-table!important; width: 100%}
.MJXc-denom > * {display: table-row!important}
.MJXc-surd {vertical-align: top}
.MJXc-surd > * {display: block!important}
.MJXc-script-box > *  {display: table!important; height: 50%}
.MJXc-script-box > * > * {display: table-cell!important; vertical-align: top}
.MJXc-script-box > *:last-child > * {vertical-align: bottom}
.MJXc-script-box > * > * > * {display: block!important}
.MJXc-mphantom {visibility: hidden}
.MJXc-munderover {display: inline-table!important}
.MJXc-over {display: inline-block!important; text-align: center}
.MJXc-over > * {display: block!important}
.MJXc-munderover > * {display: table-row!important}
.MJXc-mtable {vertical-align: .25em; margin: 0 .125em}
.MJXc-mtable > * {display: inline-table!important; vertical-align: middle}
.MJXc-mtr {display: table-row!important}
.MJXc-mtd {display: table-cell!important; text-align: center; padding: .5em 0 0 .5em}
.MJXc-mtr > .MJXc-mtd:first-child {padding-left: 0}
.MJXc-mtr:first-child > .MJXc-mtd {padding-top: 0}
.MJXc-mlabeledtr {display: table-row!important}
.MJXc-mlabeledtr > .MJXc-mtd:first-child {padding-left: 0}
.MJXc-mlabeledtr:first-child > .MJXc-mtd {padding-top: 0}
.MJXc-merror {background-color: #FFFF88; color: #CC0000; border: 1px solid #CC0000; padding: 1px 3px; font-style: normal; font-size: 90%}
.MJXc-scale0 {-webkit-transform: scaleX(.0); -moz-transform: scaleX(.0); -ms-transform: scaleX(.0); -o-transform: scaleX(.0); transform: scaleX(.0)}
.MJXc-scale1 {-webkit-transform: scaleX(.1); -moz-transform: scaleX(.1); -ms-transform: scaleX(.1); -o-transform: scaleX(.1); transform: scaleX(.1)}
.MJXc-scale2 {-webkit-transform: scaleX(.2); -moz-transform: scaleX(.2); -ms-transform: scaleX(.2); -o-transform: scaleX(.2); transform: scaleX(.2)}
.MJXc-scale3 {-webkit-transform: scaleX(.3); -moz-transform: scaleX(.3); -ms-transform: scaleX(.3); -o-transform: scaleX(.3); transform: scaleX(.3)}
.MJXc-scale4 {-webkit-transform: scaleX(.4); -moz-transform: scaleX(.4); -ms-transform: scaleX(.4); -o-transform: scaleX(.4); transform: scaleX(.4)}
.MJXc-scale5 {-webkit-transform: scaleX(.5); -moz-transform: scaleX(.5); -ms-transform: scaleX(.5); -o-transform: scaleX(.5); transform: scaleX(.5)}
.MJXc-scale6 {-webkit-transform: scaleX(.6); -moz-transform: scaleX(.6); -ms-transform: scaleX(.6); -o-transform: scaleX(.6); transform: scaleX(.6)}
.MJXc-scale7 {-webkit-transform: scaleX(.7); -moz-transform: scaleX(.7); -ms-transform: scaleX(.7); -o-transform: scaleX(.7); transform: scaleX(.7)}
.MJXc-scale8 {-webkit-transform: scaleX(.8); -moz-transform: scaleX(.8); -ms-transform: scaleX(.8); -o-transform: scaleX(.8); transform: scaleX(.8)}
.MJXc-scale9 {-webkit-transform: scaleX(.9); -moz-transform: scaleX(.9); -ms-transform: scaleX(.9); -o-transform: scaleX(.9); transform: scaleX(.9)}
.MathJax_CHTML .noError {vertical-align: ; font-size: 90%; text-align: left; color: black; padding: 1px 3px; border: 1px solid}
</style></head>
  <body><div id="MathJax_Message" style="display: none;"></div><div style="visibility: hidden; overflow: hidden; position: absolute; top: 0px; height: 1px; width: auto; padding: 0px; border: 0px; margin: 0px; text-align: left; text-indent: 0px; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal;"><div id="MathJax_Hidden"></div></div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="http://doc.sagemath.org/html/en/thematic_tutorials/genindex.html" title="General Index" accesskey="I">index</a></li>
        <li class="right">
          <a href="http://doc.sagemath.org/html/en/thematic_tutorials/py-modindex.html" title="Python Module Index">modules</a> |</li>
        <li class="right">
          <a href="http://doc.sagemath.org/html/en/thematic_tutorials/numtheory_rsa.html" title="Number Theory and the RSA Public Key Cryptosystem" accesskey="N">next</a> |</li>
        <li class="right">
          <a href="http://doc.sagemath.org/html/en/thematic_tutorials/lie/bibliography.html" title="Bibliography" accesskey="P">previous</a> |</li>
  
    
      <a href="http://doc.sagemath.org/html/en/index.html"><img src="./Linear Programming (Mixed Integer) — Thematic Tutorials v6.8_files/sagelogo.png" style="vertical-align: middle" title="Sage Logo"></a>
    
  
  
        <li><a href="http://doc.sagemath.org/html/en/thematic_tutorials/index.html">Thematic Tutorials v6.8</a> »</li>

          <li><a href="http://doc.sagemath.org/html/en/thematic_tutorials/toctree.html" accesskey="U">Thematic tutorial document tree</a> »</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper" style="position: relative;"><div class="sphinxsidebartoggle" style="border-width: 0px 5px 0px 0px; border-right-style: ridge; border-right-color: rgb(234, 234, 248); cursor: pointer; position: absolute; left: -5px; top: 0px; width: 5px; height: 7419px; background-color: rgb(234, 234, 248);"></div>
          <div class="body">
            
  <div class="section" id="linear-programming-mixed-integer">
<span id="linear-programming"></span><h1>Linear Programming (Mixed Integer)<a class="headerlink" href="http://doc.sagemath.org/html/en/thematic_tutorials/linear_programming.html#linear-programming-mixed-integer" title="Permalink to this headline">¶</a></h1>
<p>This document explains the use of linear programming (LP) – and of
mixed integer linear programming (MILP) – in Sage by illustrating it
with several problems it can solve. Most of the examples given are
motivated by graph-theoretic concerns, and should be understandable
without any specific knowledge of this field. As a tool in
Combinatorics, using linear programming amounts to understanding how
to reformulate an optimization (or existence) problem through linear
constraints.</p>
<p>This is a translation of a chapter from the book
<a class="reference external" href="http://sagebook.gforge.inria.fr/">Calcul mathematique avec Sage</a>.</p>
<div class="section" id="definition">
<h2>Definition<a class="headerlink" href="http://doc.sagemath.org/html/en/thematic_tutorials/linear_programming.html#definition" title="Permalink to this headline">¶</a></h2>
<p>Here we present the usual definition of what a linear program is: it
is defined by a matrix <span class="math"><span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-1-Frame"><nobr><span class="math" id="MathJax-Span-1" role="math" style="width: 6.821em; display: inline-block;"><span style="display: inline-block; position: relative; width: 5.633em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.604em 1000.003em 2.637em -999.997em); top: -2.477em; left: 0.003em;"><span class="mrow" id="MathJax-Span-2"><span class="mi" id="MathJax-Span-3" style="font-family: STIXGeneral-Italic;">A</span><span class="mo" id="MathJax-Span-4" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">:</span><span class="msubsup" id="MathJax-Span-5" style="padding-left: 0.313em;"><span style="display: inline-block; position: relative; width: 1.346em; height: 0px;"><span style="position: absolute; clip: rect(3.153em 1000.003em 4.135em -999.997em); top: -3.975em; left: 0.003em;"><span class="texatom" id="MathJax-Span-6"><span class="mrow" id="MathJax-Span-7"><span class="mi" id="MathJax-Span-8" style="font-family: STIXGeneral-Regular;">ℝ</span></span></span><span style="display: inline-block; width: 0px; height: 3.98em;"></span></span><span style="position: absolute; top: -4.388em; left: 0.726em;"><span class="mi" id="MathJax-Span-9" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">m</span><span style="display: inline-block; width: 0px; height: 3.98em;"></span></span></span></span><span class="mo" id="MathJax-Span-10" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">↦</span><span class="msubsup" id="MathJax-Span-11" style="padding-left: 0.313em;"><span style="display: inline-block; position: relative; width: 1.191em; height: 0px;"><span style="position: absolute; clip: rect(3.153em 1000.003em 4.135em -999.997em); top: -3.975em; left: 0.003em;"><span class="texatom" id="MathJax-Span-12"><span class="mrow" id="MathJax-Span-13"><span class="mi" id="MathJax-Span-14" style="font-family: STIXGeneral-Regular;">ℝ</span></span></span><span style="display: inline-block; width: 0px; height: 3.98em;"></span></span><span style="position: absolute; top: -4.388em; left: 0.726em;"><span class="mi" id="MathJax-Span-15" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">n</span><span style="display: inline-block; width: 0px; height: 3.98em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.003em; vertical-align: -0.059em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-1">A: \mathbb{R}^m \mapsto \mathbb{R}^n</script></span>, along
with two vectors <span class="math"><span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-2-Frame"><nobr><span class="math" id="MathJax-Span-16" role="math" style="width: 4.755em; display: inline-block;"><span style="display: inline-block; position: relative; width: 3.928em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.604em 1000.003em 2.792em -999.997em); top: -2.477em; left: 0.003em;"><span class="mrow" id="MathJax-Span-17"><span class="mi" id="MathJax-Span-18" style="font-family: STIXGeneral-Italic;">b</span><span class="mo" id="MathJax-Span-19" style="font-family: STIXGeneral-Regular;">,</span><span class="mi" id="MathJax-Span-20" style="font-family: STIXGeneral-Italic; padding-left: 0.209em;">c</span><span class="mo" id="MathJax-Span-21" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">∈</span><span class="msubsup" id="MathJax-Span-22" style="padding-left: 0.313em;"><span style="display: inline-block; position: relative; width: 1.191em; height: 0px;"><span style="position: absolute; clip: rect(3.153em 1000.003em 4.135em -999.997em); top: -3.975em; left: 0.003em;"><span class="texatom" id="MathJax-Span-23"><span class="mrow" id="MathJax-Span-24"><span class="mi" id="MathJax-Span-25" style="font-family: STIXGeneral-Regular;">ℝ</span></span></span><span style="display: inline-block; width: 0px; height: 3.98em;"></span></span><span style="position: absolute; top: -4.388em; left: 0.726em;"><span class="mi" id="MathJax-Span-26" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">n</span><span style="display: inline-block; width: 0px; height: 3.98em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.128em; vertical-align: -0.247em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-2">b,c \in \mathbb{R}^n</script></span>. Solving a linear program is
searching for a vector <span class="math"><span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-3-Frame"><nobr><span class="math" id="MathJax-Span-27" role="math" style="width: 0.571em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.467em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.862em 1000.003em 2.637em -999.997em); top: -2.477em; left: 0.003em;"><span class="mrow" id="MathJax-Span-28"><span class="mi" id="MathJax-Span-29" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.691em; vertical-align: -0.059em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-3">x</script></span> maximizing an <em>objective</em> function and
satisfying a set of constraints, i.e.</p>
<div class="math">
<span class="MathJax_Preview" style="color: inherit;"></span><div class="MathJax_Display" style="text-align: center;"><span class="MathJax" id="MathJax-Element-4-Frame"><nobr><span class="math" id="MathJax-Span-30" role="math" style="width: 11.624em; display: inline-block;"><span style="display: inline-block; position: relative; width: 9.61em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.501em 1000.003em 3.567em -999.997em); top: -2.477em; left: 0.003em;"><span class="mrow" id="MathJax-Span-31"><span class="msubsup" id="MathJax-Span-32"><span style="display: inline-block; position: relative; width: 0.726em; height: 0px;"><span style="position: absolute; clip: rect(3.36em 1000.003em 4.135em -999.997em); top: -3.975em; left: 0.003em;"><span class="mi" id="MathJax-Span-33" style="font-family: STIXGeneral-Italic;">c</span><span style="display: inline-block; width: 0px; height: 3.98em;"></span></span><span style="position: absolute; top: -4.388em; left: 0.467em;"><span class="mi" id="MathJax-Span-34" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">t<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 3.98em;"></span></span></span></span><span class="mi" id="MathJax-Span-35" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-36" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">=</span><span class="munderover" id="MathJax-Span-37" style="padding-left: 0.313em;"><span style="display: inline-block; position: relative; width: 5.323em; height: 0px;"><span style="position: absolute; clip: rect(3.36em 1000.003em 4.135em -999.997em); top: -3.975em; left: 1.81em;"><span class="mo" id="MathJax-Span-38" style="font-family: STIXGeneral-Regular;">max</span><span style="display: inline-block; width: 0px; height: 3.98em;"></span></span><span style="position: absolute; clip: rect(3.308em 1000.003em 4.29em -999.997em); top: -3.252em; left: 0.003em;"><span class="texatom" id="MathJax-Span-39"><span class="mrow" id="MathJax-Span-40"><span class="msup" id="MathJax-Span-41"><span style="display: inline-block; position: relative; width: 0.571em; height: 0px;"><span style="position: absolute; clip: rect(3.515em 1000.003em 4.135em -999.997em); top: -3.975em; left: 0.003em;"><span class="mi" id="MathJax-Span-42" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 3.98em;"></span></span><span style="position: absolute; top: -4.233em; left: 0.364em;"><span class="mo" id="MathJax-Span-43" style="font-size: 50%; font-family: STIXVariants;">′</span><span style="display: inline-block; width: 0px; height: 3.98em;"></span></span></span></span><span class="mtext" id="MathJax-Span-44" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">&nbsp;such that&nbsp;</span><span class="mi" id="MathJax-Span-45" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">A</span><span class="msup" id="MathJax-Span-46"><span style="display: inline-block; position: relative; width: 0.571em; height: 0px;"><span style="position: absolute; clip: rect(3.515em 1000.003em 4.135em -999.997em); top: -3.975em; left: 0.003em;"><span class="mi" id="MathJax-Span-47" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 3.98em;"></span></span><span style="position: absolute; top: -4.233em; left: 0.364em;"><span class="mo" id="MathJax-Span-48" style="font-size: 50%; font-family: STIXVariants;">′</span><span style="display: inline-block; width: 0px; height: 3.98em;"></span></span></span></span><span class="mo" id="MathJax-Span-49" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">≤</span><span class="mi" id="MathJax-Span-50" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">b</span></span></span><span style="display: inline-block; width: 0px; height: 3.98em;"></span></span></span></span><span class="msubsup" id="MathJax-Span-51" style="padding-left: 0.209em;"><span style="display: inline-block; position: relative; width: 0.726em; height: 0px;"><span style="position: absolute; clip: rect(3.36em 1000.003em 4.135em -999.997em); top: -3.975em; left: 0.003em;"><span class="mi" id="MathJax-Span-52" style="font-family: STIXGeneral-Italic;">c</span><span style="display: inline-block; width: 0px; height: 3.98em;"></span></span><span style="position: absolute; top: -4.388em; left: 0.467em;"><span class="mi" id="MathJax-Span-53" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">t<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 3.98em;"></span></span></span></span><span class="msup" id="MathJax-Span-54"><span style="display: inline-block; position: relative; width: 0.829em; height: 0px;"><span style="position: absolute; clip: rect(3.36em 1000.003em 4.135em -999.997em); top: -3.975em; left: 0.003em;"><span class="mi" id="MathJax-Span-55" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 3.98em;"></span></span><span style="position: absolute; top: -4.388em; left: 0.519em;"><span class="mo" id="MathJax-Span-56" style="font-size: 70.7%; font-family: STIXVariants;">′</span><span style="display: inline-block; width: 0px; height: 3.98em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 2.191em; vertical-align: -1.184em;"></span></span></nobr></span></div><script type="math/tex; mode=display" id="MathJax-Element-4">c^t x = \max_{x' \text{ such that } Ax' \leq b} c^t x'</script></div>
<p>where the ordering <span class="math"><span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-5-Frame"><nobr><span class="math" id="MathJax-Span-57" role="math" style="width: 3.205em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.637em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.552em 1000.003em 2.74em -999.997em); top: -2.477em; left: 0.003em;"><span class="mrow" id="MathJax-Span-58"><span class="mi" id="MathJax-Span-59" style="font-family: STIXGeneral-Italic;">u</span><span class="mo" id="MathJax-Span-60" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">≤</span><span class="msup" id="MathJax-Span-61" style="padding-left: 0.313em;"><span style="display: inline-block; position: relative; width: 0.829em; height: 0px;"><span style="position: absolute; clip: rect(3.36em 1000.003em 4.135em -999.997em); top: -3.975em; left: 0.003em;"><span class="mi" id="MathJax-Span-62" style="font-family: STIXGeneral-Italic;">u</span><span style="display: inline-block; width: 0px; height: 3.98em;"></span></span><span style="position: absolute; top: -4.336em; left: 0.519em;"><span class="mo" id="MathJax-Span-63" style="font-size: 70.7%; font-family: STIXVariants;">′</span><span style="display: inline-block; width: 0px; height: 3.98em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.191em; vertical-align: -0.184em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-5">u \leq u'</script></span> between two vectors means that the
entries of <span class="math"><span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-6-Frame"><nobr><span class="math" id="MathJax-Span-64" role="math" style="width: 1.087em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.881em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(0.054em 1000.003em 1.139em -999.997em); top: -0.979em; left: 0.003em;"><span class="mrow" id="MathJax-Span-65"><span class="msup" id="MathJax-Span-66"><span style="display: inline-block; position: relative; width: 0.829em; height: 0px;"><span style="position: absolute; clip: rect(3.36em 1000.003em 4.135em -999.997em); top: -3.975em; left: 0.003em;"><span class="mi" id="MathJax-Span-67" style="font-family: STIXGeneral-Italic;">u</span><span style="display: inline-block; width: 0px; height: 3.98em;"></span></span><span style="position: absolute; top: -4.336em; left: 0.519em;"><span class="mo" id="MathJax-Span-68" style="font-size: 70.7%; font-family: STIXVariants;">′</span><span style="display: inline-block; width: 0px; height: 3.98em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 0.984em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.066em; vertical-align: -0.059em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-6">u'</script></span> are pairwise greater than the entries of <span class="math"><span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-7-Frame"><nobr><span class="math" id="MathJax-Span-69" role="math" style="width: 0.622em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.519em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.862em 1000.003em 2.637em -999.997em); top: -2.477em; left: 0.003em;"><span class="mrow" id="MathJax-Span-70"><span class="mi" id="MathJax-Span-71" style="font-family: STIXGeneral-Italic;">u</span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.691em; vertical-align: -0.059em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-7">u</script></span>. We also
write:</p>
<div class="math">
<span class="MathJax_Preview" style="color: inherit;"></span><div class="MathJax_Display" style="text-align: center;"><span class="MathJax" id="MathJax-Element-8-Frame"><nobr><span class="math" id="MathJax-Span-72" role="math" style="width: 9.093em; display: inline-block;"><span style="display: inline-block; position: relative; width: 7.492em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(0.571em 1000.003em 3.205em -999.997em); top: -2.115em; left: 0.003em;"><span class="mrow" id="MathJax-Span-73"><span class="mtable" id="MathJax-Span-74" style="padding-right: 0.158em; padding-left: 0.158em;"><span style="display: inline-block; position: relative; width: 7.131em; height: 0px;"><span style="position: absolute; clip: rect(2.534em 1000.003em 4.858em -999.997em); top: -3.975em; left: 0.003em;"><span style="display: inline-block; position: relative; width: 4.29em; height: 0px;"><span style="position: absolute; clip: rect(3.153em 1000.003em 4.135em -999.997em); top: -4.595em; right: 0.003em;"><span class="mtd" id="MathJax-Span-75"><span class="mrow" id="MathJax-Span-76"><span class="mtext" id="MathJax-Span-77" style="font-family: STIXGeneral-Regular;">Max:&nbsp;</span></span></span><span style="display: inline-block; width: 0px; height: 3.98em;"></span></span><span style="position: absolute; clip: rect(3.153em 1000.003em 4.135em -999.997em); top: -3.252em; right: 0.003em;"><span class="mtd" id="MathJax-Span-84"><span class="mrow" id="MathJax-Span-85"><span class="mtext" id="MathJax-Span-86" style="font-family: STIXGeneral-Regular;">Such that:&nbsp;</span></span></span><span style="display: inline-block; width: 0px; height: 3.98em;"></span></span></span><span style="display: inline-block; width: 0px; height: 3.98em;"></span></span><span style="position: absolute; clip: rect(2.43em 1000.003em 4.961em -999.997em); top: -3.975em; left: 4.29em;"><span style="display: inline-block; position: relative; width: 2.895em; height: 0px;"><span style="position: absolute; clip: rect(3.05em 1000.003em 4.135em -999.997em); top: -4.595em; left: 0.003em;"><span class="mtd" id="MathJax-Span-78"><span class="mrow" id="MathJax-Span-79"><span class="msubsup" id="MathJax-Span-80"><span style="display: inline-block; position: relative; width: 0.726em; height: 0px;"><span style="position: absolute; clip: rect(3.36em 1000.003em 4.135em -999.997em); top: -3.975em; left: 0.003em;"><span class="mi" id="MathJax-Span-81" style="font-family: STIXGeneral-Italic;">c</span><span style="display: inline-block; width: 0px; height: 3.98em;"></span></span><span style="position: absolute; top: -4.388em; left: 0.467em;"><span class="mi" id="MathJax-Span-82" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">t<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 3.98em;"></span></span></span></span><span class="mi" id="MathJax-Span-83" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 3.98em;"></span></span><span style="position: absolute; clip: rect(3.153em 1000.003em 4.238em -999.997em); top: -3.252em; left: 0.003em;"><span class="mtd" id="MathJax-Span-87"><span class="mrow" id="MathJax-Span-88"><span class="mi" id="MathJax-Span-89" style="font-family: STIXGeneral-Italic;">A</span><span class="mi" id="MathJax-Span-90" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-91" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">≤</span><span class="mi" id="MathJax-Span-92" style="font-family: STIXGeneral-Italic; padding-left: 0.313em;">b</span></span></span><span style="display: inline-block; width: 0px; height: 3.98em;"></span></span></span><span style="display: inline-block; width: 0px; height: 3.98em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.12em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 2.941em; vertical-align: -1.184em;"></span></span></nobr></span></div><script type="math/tex; mode=display" id="MathJax-Element-8">\begin{split}\text{Max: } & c^t x\\
\text{Such that: } & Ax \leq b\end{split}</script></div>
<p>Equivalently, we can also say that solving a linear program amounts to
maximizing a linear function defined over a polytope (preimage or
<span class="math"><span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-9-Frame"><nobr><span class="math" id="MathJax-Span-93" role="math" style="width: 4.496em; display: inline-block;"><span style="display: inline-block; position: relative; width: 3.722em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.501em 1000.003em 2.792em -999.997em); top: -2.477em; left: 0.003em;"><span class="mrow" id="MathJax-Span-94"><span class="msubsup" id="MathJax-Span-95"><span style="display: inline-block; position: relative; width: 1.552em; height: 0px;"><span style="position: absolute; clip: rect(3.153em 1000.003em 4.135em -999.997em); top: -3.975em; left: 0.003em;"><span class="mi" id="MathJax-Span-96" style="font-family: STIXGeneral-Italic;">A</span><span style="display: inline-block; width: 0px; height: 3.98em;"></span></span><span style="position: absolute; top: -4.336em; left: 0.622em;"><span class="texatom" id="MathJax-Span-97"><span class="mrow" id="MathJax-Span-98"><span class="mo" id="MathJax-Span-99" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">−</span><span class="mn" id="MathJax-Span-100" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">1</span></span></span><span style="display: inline-block; width: 0px; height: 3.98em;"></span></span></span></span><span class="mo" id="MathJax-Span-101" style="font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-102" style="font-family: STIXGeneral-Regular;">≤</span><span class="mi" id="MathJax-Span-103" style="font-family: STIXGeneral-Italic; padding-left: 0.313em;">b</span><span class="mo" id="MathJax-Span-104" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.378em; vertical-align: -0.247em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-9">A^{-1} (\leq b)</script></span>). These definitions, however, do not tell us how to
use linear programming in combinatorics. In the following, we will
show how to solve optimization problems like the Knapsack problem, the
Maximum Matching problem, and a Flow problem.</p>
</div>
<div class="section" id="mixed-integer-linear-programming">
<h2>Mixed integer linear programming<a class="headerlink" href="http://doc.sagemath.org/html/en/thematic_tutorials/linear_programming.html#mixed-integer-linear-programming" title="Permalink to this headline">¶</a></h2>
<p>There are bad news coming along with this definition of linear
programming: an LP can be solved in polynomial time. This is indeed
bad news, because this would mean that unless we define LP of
exponential size, we cannot expect LP to solve NP-complete problems,
which would be a disappointment. On a brighter side, it becomes
NP-complete to solve a linear program if we are allowed to specify
constraints of a different kind: requiring that some variables be
integers instead of real values. Such an LP is actually called a “mixed
integer linear program” (some variables can be integers, some other
reals). Hence, we can expect to find in the MILP framework a <em>wide</em>
range of expressivity.</p>
</div>
<div class="section" id="practical">
<h2>Practical<a class="headerlink" href="http://doc.sagemath.org/html/en/thematic_tutorials/linear_programming.html#practical" title="Permalink to this headline">¶</a></h2>
<div class="section" id="the-milp-class">
<h3>The <tt class="docutils literal"><span class="pre">MILP</span></tt> class<a class="headerlink" href="http://doc.sagemath.org/html/en/thematic_tutorials/linear_programming.html#the-milp-class" title="Permalink to this headline">¶</a></h3>
<p>The <tt class="docutils literal"><span class="pre">MILP</span></tt> class in Sage represents a MILP! It is also used to
solve regular LP. It has a very small number of methods, meant to
define our set of constraints and variables, then to read the solution
found by the solvers once computed. It is also possible to export a
MILP defined with Sage to a <tt class="docutils literal"><span class="pre">.lp</span></tt> or <tt class="docutils literal"><span class="pre">.mps</span></tt> file, understood by most
solvers.</p>
<p>Let us ask Sage to solve the following LP:</p>
<div class="math">
<span class="MathJax_Preview" style="color: inherit;"></span><div class="MathJax_Display" style="text-align: center;"><span class="MathJax" id="MathJax-Element-10-Frame"><nobr><span class="math" id="MathJax-Span-105" role="math" style="width: 10.953em; display: inline-block;"><span style="display: inline-block; position: relative; width: 9.042em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(-0.824em 1000.003em 4.548em -999.997em); top: -2.115em; left: 0.003em;"><span class="mrow" id="MathJax-Span-106"><span class="mtable" id="MathJax-Span-107" style="padding-right: 0.158em; padding-left: 0.158em;"><span style="display: inline-block; position: relative; width: 8.68em; height: 0px;"><span style="position: absolute; clip: rect(2.895em 1000.003em 7.905em -999.997em); top: -5.679em; left: 0.003em;"><span style="display: inline-block; position: relative; width: 4.29em; height: 0px;"><span style="position: absolute; clip: rect(3.153em 1000.003em 4.135em -999.997em); top: -5.938em; right: 0.003em;"><span class="mtd" id="MathJax-Span-108"><span class="mrow" id="MathJax-Span-109"><span class="mtext" id="MathJax-Span-110" style="font-family: STIXGeneral-Regular;">Max:&nbsp;</span></span></span><span style="display: inline-block; width: 0px; height: 3.98em;"></span></span><span style="position: absolute; clip: rect(3.153em 1000.003em 4.135em -999.997em); top: -4.595em; right: 0.003em;"><span class="mtd" id="MathJax-Span-119"><span class="mrow" id="MathJax-Span-120"><span class="mtext" id="MathJax-Span-121" style="font-family: STIXGeneral-Regular;">Such that:&nbsp;</span></span></span><span style="display: inline-block; width: 0px; height: 3.98em;"></span></span><span style="position: absolute; clip: rect(3.825em 1000.003em 4.135em -999.997em); top: -3.252em; right: 0.003em;"><span class="mtd" id="MathJax-Span-130"><span class="mrow" id="MathJax-Span-131"><span class="mtext" id="MathJax-Span-132"></span></span></span><span style="display: inline-block; width: 0px; height: 3.98em;"></span></span><span style="position: absolute; clip: rect(3.825em 1000.003em 4.135em -999.997em); top: -1.909em; right: 0.003em;"><span class="mtd" id="MathJax-Span-141"><span class="mrow" id="MathJax-Span-142"><span class="mtext" id="MathJax-Span-143"></span></span></span><span style="display: inline-block; width: 0px; height: 3.98em;"></span></span></span><span style="display: inline-block; width: 0px; height: 5.684em;"></span></span><span style="position: absolute; clip: rect(3.102em 1000.003em 8.319em -999.997em); top: -5.886em; left: 4.29em;"><span style="display: inline-block; position: relative; width: 4.393em; height: 0px;"><span style="position: absolute; clip: rect(3.153em 1000.003em 4.341em -999.997em); top: -5.938em; left: 0.003em;"><span class="mtd" id="MathJax-Span-111"><span class="mrow" id="MathJax-Span-112"><span class="mi" id="MathJax-Span-113" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-114" style="font-family: STIXGeneral-Regular; padding-left: 0.261em;">+</span><span class="mi" id="MathJax-Span-115" style="font-family: STIXGeneral-Italic; padding-left: 0.261em;">y</span><span class="mo" id="MathJax-Span-116" style="font-family: STIXGeneral-Regular; padding-left: 0.261em;">+</span><span class="mn" id="MathJax-Span-117" style="font-family: STIXGeneral-Regular; padding-left: 0.261em;">3</span><span class="mi" id="MathJax-Span-118" style="font-family: STIXGeneral-Italic;">z</span></span></span><span style="display: inline-block; width: 0px; height: 3.98em;"></span></span><span style="position: absolute; clip: rect(3.153em 1000.003em 4.341em -999.997em); top: -4.595em; left: 0.003em;"><span class="mtd" id="MathJax-Span-122"><span class="mrow" id="MathJax-Span-123"><span class="mi" id="MathJax-Span-124" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-125" style="font-family: STIXGeneral-Regular; padding-left: 0.261em;">+</span><span class="mn" id="MathJax-Span-126" style="font-family: STIXGeneral-Regular; padding-left: 0.261em;">2</span><span class="mi" id="MathJax-Span-127" style="font-family: STIXGeneral-Italic;">y</span><span class="mo" id="MathJax-Span-128" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">≤</span><span class="mn" id="MathJax-Span-129" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">4</span></span></span><span style="display: inline-block; width: 0px; height: 3.98em;"></span></span><span style="position: absolute; clip: rect(3.153em 1000.003em 4.341em -999.997em); top: -3.252em; left: 0.003em;"><span class="mtd" id="MathJax-Span-133"><span class="mrow" id="MathJax-Span-134"><span class="mn" id="MathJax-Span-135" style="font-family: STIXGeneral-Regular;">5</span><span class="mi" id="MathJax-Span-136" style="font-family: STIXGeneral-Italic;">z</span><span class="mo" id="MathJax-Span-137" style="font-family: STIXGeneral-Regular; padding-left: 0.261em;">−</span><span class="mi" id="MathJax-Span-138" style="font-family: STIXGeneral-Italic; padding-left: 0.261em;">y</span><span class="mo" id="MathJax-Span-139" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">≤</span><span class="mn" id="MathJax-Span-140" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">8</span></span></span><span style="display: inline-block; width: 0px; height: 3.98em;"></span></span><span style="position: absolute; clip: rect(3.153em 1000.003em 4.341em -999.997em); top: -1.909em; left: 0.003em;"><span class="mtd" id="MathJax-Span-144"><span class="mrow" id="MathJax-Span-145"><span class="mi" id="MathJax-Span-146" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-147" style="font-family: STIXGeneral-Regular;">,</span><span class="mi" id="MathJax-Span-148" style="font-family: STIXGeneral-Italic; padding-left: 0.209em;">y</span><span class="mo" id="MathJax-Span-149" style="font-family: STIXGeneral-Regular;">,</span><span class="mi" id="MathJax-Span-150" style="font-family: STIXGeneral-Italic; padding-left: 0.209em;">z</span><span class="mo" id="MathJax-Span-151" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">≥</span><span class="mn" id="MathJax-Span-152" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">0</span></span></span><span style="display: inline-block; width: 0px; height: 3.98em;"></span></span></span><span style="display: inline-block; width: 0px; height: 5.891em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.12em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 6.253em; vertical-align: -2.809em;"></span></span></nobr></span></div><script type="math/tex; mode=display" id="MathJax-Element-10">\begin{split}\text{Max: } & x + y + 3z\\
\text{Such that: } & x + 2y \leq 4\\
\text{} & 5z - y \leq 8\\
\text{} & x,y,z \geq 0\\\end{split}</script></div>
<p>To achieve it, we need to define a corresponding <tt class="docutils literal"><span class="pre">MILP</span></tt> object, along with 3
variables <tt class="docutils literal"><span class="pre">x</span></tt>, <tt class="docutils literal"><span class="pre">y</span></tt> and <tt class="docutils literal"><span class="pre">z</span></tt>:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">p</span> <span class="o">=</span> <span class="n">MixedIntegerLinearProgram</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">v</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">new_variable</span><span class="p">(</span><span class="n">real</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">nonnegative</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">z</span> <span class="o">=</span> <span class="n">v</span><span class="p">[</span><span class="s">'x'</span><span class="p">],</span> <span class="n">v</span><span class="p">[</span><span class="s">'y'</span><span class="p">],</span> <span class="n">v</span><span class="p">[</span><span class="s">'z'</span><span class="p">]</span>
</pre></div>
</div>
<p>Next, we set the objective function</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">p</span><span class="o">.</span><span class="n">set_objective</span><span class="p">(</span><span class="n">x</span> <span class="o">+</span> <span class="n">y</span> <span class="o">+</span> <span class="mi">3</span><span class="o">*</span><span class="n">z</span><span class="p">)</span>
</pre></div>
</div>
<p>And finally we set the constraints</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">p</span><span class="o">.</span><span class="n">add_constraint</span><span class="p">(</span><span class="n">x</span> <span class="o">+</span> <span class="mi">2</span><span class="o">*</span><span class="n">y</span> <span class="o">&lt;=</span> <span class="mi">4</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">p</span><span class="o">.</span><span class="n">add_constraint</span><span class="p">(</span><span class="mi">5</span><span class="o">*</span><span class="n">z</span> <span class="o">-</span> <span class="n">y</span> <span class="o">&lt;=</span> <span class="mi">8</span><span class="p">)</span>
</pre></div>
</div>
<p>The <tt class="docutils literal"><span class="pre">solve</span></tt> method returns by default the optimal value reached by
the objective function</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="nb">round</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">solve</span><span class="p">(),</span> <span class="mi">2</span><span class="p">)</span>
<span class="go">8.8</span>
</pre></div>
</div>
<p>We can read the optimal assignation found by the solver for <span class="math"><span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-11-Frame"><nobr><span class="math" id="MathJax-Span-153" role="math" style="width: 0.571em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.467em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.862em 1000.003em 2.637em -999.997em); top: -2.477em; left: 0.003em;"><span class="mrow" id="MathJax-Span-154"><span class="mi" id="MathJax-Span-155" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.691em; vertical-align: -0.059em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-11">x</script></span>, <span class="math"><span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-12-Frame"><nobr><span class="math" id="MathJax-Span-156" role="math" style="width: 0.571em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.467em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.862em 1000.003em 2.843em -999.997em); top: -2.477em; left: 0.003em;"><span class="mrow" id="MathJax-Span-157"><span class="mi" id="MathJax-Span-158" style="font-family: STIXGeneral-Italic;">y</span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.941em; vertical-align: -0.309em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-12">y</script></span> and
<span class="math"><span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-13-Frame"><nobr><span class="math" id="MathJax-Span-159" role="math" style="width: 0.519em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.416em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.914em 1000.003em 2.74em -999.997em); top: -2.477em; left: 0.003em;"><span class="mrow" id="MathJax-Span-160"><span class="mi" id="MathJax-Span-161" style="font-family: STIXGeneral-Italic;">z</span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.753em; vertical-align: -0.184em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-13">z</script></span> through the <tt class="docutils literal"><span class="pre">get_values</span></tt> method</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="nb">round</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">get_values</span><span class="p">(</span><span class="n">x</span><span class="p">),</span> <span class="mi">2</span><span class="p">)</span>
<span class="go">4.0</span>
<span class="gp">sage: </span><span class="nb">round</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">get_values</span><span class="p">(</span><span class="n">y</span><span class="p">),</span> <span class="mi">2</span><span class="p">)</span>
<span class="go">0.0</span>
<span class="gp">sage: </span><span class="nb">round</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">get_values</span><span class="p">(</span><span class="n">z</span><span class="p">),</span> <span class="mi">2</span><span class="p">)</span>
<span class="go">1.6</span>
</pre></div>
</div>
</div>
<div class="section" id="variables">
<h3>Variables<a class="headerlink" href="http://doc.sagemath.org/html/en/thematic_tutorials/linear_programming.html#variables" title="Permalink to this headline">¶</a></h3>
<p>In the previous example, we obtained variables through <tt class="docutils literal"><span class="pre">v['x']</span></tt>, <tt class="docutils literal"><span class="pre">v['y']</span></tt>
and <tt class="docutils literal"><span class="pre">v['z']</span></tt>. This being said, larger LP/MILP will require us to associate an
LP variable to many Sage objects, which can be integers, strings, or even the
vertices and edges of a graph. For example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">x</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">new_variable</span><span class="p">(</span><span class="n">real</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">nonnegative</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
</pre></div>
</div>
<p>With this new object <tt class="docutils literal"><span class="pre">x</span></tt> we can now write constraints using
<tt class="docutils literal"><span class="pre">x[1],...,x[15]</span></tt>.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">p</span><span class="o">.</span><span class="n">add_constraint</span><span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="n">x</span><span class="p">[</span><span class="mi">12</span><span class="p">]</span> <span class="o">-</span> <span class="n">x</span><span class="p">[</span><span class="mi">14</span><span class="p">]</span> <span class="o">&gt;=</span> <span class="mi">8</span><span class="p">)</span>
</pre></div>
</div>
<p>Notice that we did not need to define the “length” of <tt class="docutils literal"><span class="pre">x</span></tt>. Actually, <tt class="docutils literal"><span class="pre">x</span></tt>
would accept any immutable object as a key, as a dictionary would. We can now
write</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">p</span><span class="o">.</span><span class="n">add_constraint</span><span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="s">"I am a valid key"</span><span class="p">]</span> <span class="o">+</span>
<span class="go">....:                  x[("a",pi)] &lt;= 3)</span>
</pre></div>
</div>
<p>And because any immutable object can be used as a key, doubly indexed variables
<span class="math"><span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-14-Frame"><nobr><span class="math" id="MathJax-Span-162" role="math" style="width: 14.465em; display: inline-block;"><span style="display: inline-block; position: relative; width: 11.934em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.501em 1000.003em 2.792em -999.997em); top: -2.477em; left: 0.003em;"><span class="mrow" id="MathJax-Span-163"><span class="msubsup" id="MathJax-Span-164"><span style="display: inline-block; position: relative; width: 1.449em; height: 0px;"><span style="position: absolute; clip: rect(3.36em 1000.003em 4.135em -999.997em); top: -3.975em; left: 0.003em;"><span class="mi" id="MathJax-Span-165" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 3.98em;"></span></span><span style="position: absolute; top: -4.336em; left: 0.519em;"><span class="texatom" id="MathJax-Span-166"><span class="mrow" id="MathJax-Span-167"><span class="mn" id="MathJax-Span-168" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">1</span><span class="mo" id="MathJax-Span-169" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">,</span><span class="mn" id="MathJax-Span-170" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">1</span></span></span><span style="display: inline-block; width: 0px; height: 3.98em;"></span></span></span></span><span class="mo" id="MathJax-Span-171" style="font-family: STIXGeneral-Regular;">,</span><span class="mo" id="MathJax-Span-172" style="font-family: STIXGeneral-Regular; padding-left: 0.209em;">.</span><span class="mo" id="MathJax-Span-173" style="font-family: STIXGeneral-Regular; padding-left: 0.209em;">.</span><span class="mo" id="MathJax-Span-174" style="font-family: STIXGeneral-Regular; padding-left: 0.209em;">.</span><span class="mo" id="MathJax-Span-175" style="font-family: STIXGeneral-Regular; padding-left: 0.209em;">,</span><span class="msubsup" id="MathJax-Span-176" style="padding-left: 0.209em;"><span style="display: inline-block; position: relative; width: 1.81em; height: 0px;"><span style="position: absolute; clip: rect(3.36em 1000.003em 4.135em -999.997em); top: -3.975em; left: 0.003em;"><span class="mi" id="MathJax-Span-177" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 3.98em;"></span></span><span style="position: absolute; top: -4.336em; left: 0.519em;"><span class="texatom" id="MathJax-Span-178"><span class="mrow" id="MathJax-Span-179"><span class="mn" id="MathJax-Span-180" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">1</span><span class="mo" id="MathJax-Span-181" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">,</span><span class="mn" id="MathJax-Span-182" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">15</span></span></span><span style="display: inline-block; width: 0px; height: 3.98em;"></span></span></span></span><span class="mo" id="MathJax-Span-183" style="font-family: STIXGeneral-Regular;">,</span><span class="msubsup" id="MathJax-Span-184" style="padding-left: 0.209em;"><span style="display: inline-block; position: relative; width: 1.449em; height: 0px;"><span style="position: absolute; clip: rect(3.36em 1000.003em 4.135em -999.997em); top: -3.975em; left: 0.003em;"><span class="mi" id="MathJax-Span-185" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 3.98em;"></span></span><span style="position: absolute; top: -4.336em; left: 0.519em;"><span class="texatom" id="MathJax-Span-186"><span class="mrow" id="MathJax-Span-187"><span class="mn" id="MathJax-Span-188" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">2</span><span class="mo" id="MathJax-Span-189" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">,</span><span class="mn" id="MathJax-Span-190" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">1</span></span></span><span style="display: inline-block; width: 0px; height: 3.98em;"></span></span></span></span><span class="mo" id="MathJax-Span-191" style="font-family: STIXGeneral-Regular;">,</span><span class="mo" id="MathJax-Span-192" style="font-family: STIXGeneral-Regular; padding-left: 0.209em;">.</span><span class="mo" id="MathJax-Span-193" style="font-family: STIXGeneral-Regular; padding-left: 0.209em;">.</span><span class="mo" id="MathJax-Span-194" style="font-family: STIXGeneral-Regular; padding-left: 0.209em;">.</span><span class="mo" id="MathJax-Span-195" style="font-family: STIXGeneral-Regular; padding-left: 0.209em;">,</span><span class="msubsup" id="MathJax-Span-196" style="padding-left: 0.209em;"><span style="display: inline-block; position: relative; width: 2.172em; height: 0px;"><span style="position: absolute; clip: rect(3.36em 1000.003em 4.135em -999.997em); top: -3.975em; left: 0.003em;"><span class="mi" id="MathJax-Span-197" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 3.98em;"></span></span><span style="position: absolute; top: -4.336em; left: 0.519em;"><span class="texatom" id="MathJax-Span-198"><span class="mrow" id="MathJax-Span-199"><span class="mn" id="MathJax-Span-200" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">15</span><span class="mo" id="MathJax-Span-201" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">,</span><span class="mn" id="MathJax-Span-202" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">15</span></span></span><span style="display: inline-block; width: 0px; height: 3.98em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.316em; vertical-align: -0.247em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-14">x^{1,1}, ..., x^{1,15}, x^{2,1}, ..., x^{15,15}</script></span> can be referenced by
<tt class="docutils literal"><span class="pre">x[1,1],...,x[1,15],x[2,1],...,x[15,15]</span></tt></p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">p</span><span class="o">.</span><span class="n">add_constraint</span><span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="mi">3</span><span class="p">,</span><span class="mi">2</span><span class="p">]</span> <span class="o">+</span> <span class="n">x</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span> <span class="o">==</span> <span class="mi">6</span><span class="p">)</span>
</pre></div>
</div>
<div class="section" id="typed-variables-and-bounds">
<h4>Typed variables and bounds<a class="headerlink" href="http://doc.sagemath.org/html/en/thematic_tutorials/linear_programming.html#typed-variables-and-bounds" title="Permalink to this headline">¶</a></h4>
<p><strong>Types :</strong> If you want a variable to assume only integer or binary values, use
the <tt class="docutils literal"><span class="pre">integer=True</span></tt> or <tt class="docutils literal"><span class="pre">binary=True</span></tt> arguments of the <tt class="docutils literal"><span class="pre">new_variable</span></tt>
method. Alternatively, call the <tt class="docutils literal"><span class="pre">set_integer</span></tt> and <tt class="docutils literal"><span class="pre">set_binary</span></tt> methods.</p>
<p><strong>Bounds :</strong> If you want your variables to only take nonnegative values, you can
say so when calling <tt class="docutils literal"><span class="pre">new_variable</span></tt> with the argument <tt class="docutils literal"><span class="pre">nonnegative=True</span></tt>. If
you want to set a different upper/lower bound on a variable, add a constraint or
use the <tt class="docutils literal"><span class="pre">set_min</span></tt>, <tt class="docutils literal"><span class="pre">set_max</span></tt> methods.</p>
</div>
</div>
</div>
<div class="section" id="basic-linear-programs">
<h2>Basic linear programs<a class="headerlink" href="http://doc.sagemath.org/html/en/thematic_tutorials/linear_programming.html#basic-linear-programs" title="Permalink to this headline">¶</a></h2>
<div class="section" id="knapsack">
<h3>Knapsack<a class="headerlink" href="http://doc.sagemath.org/html/en/thematic_tutorials/linear_programming.html#knapsack" title="Permalink to this headline">¶</a></h3>
<p>The <em>Knapsack</em> problem is the following: given a collection of items
having both a weight and a <em>usefulness</em>, we would like to fill a bag
whose capacity is constrained while maximizing the usefulness of the
items contained in the bag (we will consider the sum of the items’
usefulness). For the purpose of this tutorial, we set the restriction
that the bag can only carry a certain total weight.</p>
<p>To achieve this, we have to associate to each object <span class="math"><span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-15-Frame"><nobr><span class="math" id="MathJax-Span-203" role="math" style="width: 0.622em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.519em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.862em 1000.003em 2.637em -999.997em); top: -2.477em; left: 0.003em;"><span class="mrow" id="MathJax-Span-204"><span class="mi" id="MathJax-Span-205" style="font-family: STIXGeneral-Italic;">o</span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.691em; vertical-align: -0.059em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-15">o</script></span> of our
collection <span class="math"><span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-16-Frame"><nobr><span class="math" id="MathJax-Span-206" role="math" style="width: 0.829em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.674em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.655em 1000.003em 2.637em -999.997em); top: -2.477em; left: 0.003em;"><span class="mrow" id="MathJax-Span-207"><span class="mi" id="MathJax-Span-208" style="font-family: STIXGeneral-Italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.941em; vertical-align: -0.059em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-16">C</script></span> a binary variable <tt class="docutils literal"><span class="pre">taken[o]</span></tt>, set to 1 when the
object is in the bag, and to 0 otherwise. We are trying to solve the
following MILP</p>
<div class="math">
<span class="MathJax_Preview" style="color: inherit;"></span><div class="MathJax_Display" style="text-align: center;"><span class="MathJax" id="MathJax-Element-17-Frame"><nobr><span class="math" id="MathJax-Span-209" role="math" style="width: 18.443em; display: inline-block;"><span style="display: inline-block; position: relative; width: 15.24em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(-0.721em 1000.003em 4.445em -999.997em); top: -2.115em; left: 0.003em;"><span class="mrow" id="MathJax-Span-210"><span class="mtable" id="MathJax-Span-211" style="padding-right: 0.158em; padding-left: 0.158em;"><span style="display: inline-block; position: relative; width: 14.879em; height: 0px;"><span style="position: absolute; clip: rect(1.759em 1000.003em 5.323em -999.997em); top: -4.233em; left: 0.003em;"><span style="display: inline-block; position: relative; width: 4.29em; height: 0px;"><span style="position: absolute; clip: rect(3.153em 1000.003em 4.135em -999.997em); top: -5.679em; right: 0.003em;"><span class="mtd" id="MathJax-Span-212"><span class="mrow" id="MathJax-Span-213"><span class="mtext" id="MathJax-Span-214" style="font-family: STIXGeneral-Regular;">Max:&nbsp;</span></span></span><span style="display: inline-block; width: 0px; height: 3.98em;"></span></span><span style="position: absolute; clip: rect(3.153em 1000.003em 4.135em -999.997em); top: -3.097em; right: 0.003em;"><span class="mtd" id="MathJax-Span-232"><span class="mrow" id="MathJax-Span-233"><span class="mtext" id="MathJax-Span-234" style="font-family: STIXGeneral-Regular;">Such that:&nbsp;</span></span></span><span style="display: inline-block; width: 0px; height: 3.98em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.238em;"></span></span><span style="position: absolute; clip: rect(2.998em 1000.003em 8.164em -999.997em); top: -5.834em; left: 4.29em;"><span style="display: inline-block; position: relative; width: 10.643em; height: 0px;"><span style="position: absolute; clip: rect(2.843em 1000.003em 5.426em -999.997em); top: -5.679em; left: 0.003em;"><span class="mtd" id="MathJax-Span-215"><span class="mrow" id="MathJax-Span-216"><span class="mi" id="MathJax-Span-217"></span><span class="munderover" id="MathJax-Span-218" style="padding-left: 0.209em;"><span style="display: inline-block; position: relative; width: 1.294em; height: 0px;"><span style="position: absolute; clip: rect(2.843em 1000.003em 4.6em -999.997em); top: -3.975em; left: 0.003em;"><span class="mo" id="MathJax-Span-219" style="font-family: STIXSizeOneSym; vertical-align: -0.514em;">∑</span><span style="display: inline-block; width: 0px; height: 3.98em;"></span></span><span style="position: absolute; clip: rect(3.36em 1000.003em 4.238em -999.997em); top: -2.838em; left: 0.054em;"><span class="texatom" id="MathJax-Span-220"><span class="mrow" id="MathJax-Span-221"><span class="mi" id="MathJax-Span-222" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">o</span><span class="mo" id="MathJax-Span-223" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">∈</span><span class="mi" id="MathJax-Span-224" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">L<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 3.98em;"></span></span></span></span><span class="msubsup" id="MathJax-Span-225" style="padding-left: 0.209em;"><span style="display: inline-block; position: relative; width: 4.6em; height: 0px;"><span style="position: absolute; clip: rect(3.153em 1000.003em 4.135em -999.997em); top: -3.975em; left: 0.003em;"><span class="mtext" id="MathJax-Span-226" style="font-family: STIXGeneral-Regular;">usefulness</span><span style="display: inline-block; width: 0px; height: 3.98em;"></span></span><span style="position: absolute; top: -3.82em; left: 4.186em;"><span class="mi" id="MathJax-Span-227" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">o</span><span style="display: inline-block; width: 0px; height: 3.98em;"></span></span></span></span><span class="mo" id="MathJax-Span-228" style="font-family: STIXGeneral-Regular; padding-left: 0.261em;">×</span><span class="msubsup" id="MathJax-Span-229" style="padding-left: 0.261em;"><span style="display: inline-block; position: relative; width: 2.585em; height: 0px;"><span style="position: absolute; clip: rect(3.153em 1000.003em 4.135em -999.997em); top: -3.975em; left: 0.003em;"><span class="mtext" id="MathJax-Span-230" style="font-family: STIXGeneral-Regular;">taken</span><span style="display: inline-block; width: 0px; height: 3.98em;"></span></span><span style="position: absolute; top: -3.82em; left: 2.172em;"><span class="mi" id="MathJax-Span-231" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">o</span><span style="display: inline-block; width: 0px; height: 3.98em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 3.98em;"></span></span><span style="position: absolute; clip: rect(2.843em 1000.003em 5.426em -999.997em); top: -3.097em; left: 0.003em;"><span class="mtd" id="MathJax-Span-235"><span class="mrow" id="MathJax-Span-236"><span class="mi" id="MathJax-Span-237"></span><span class="munderover" id="MathJax-Span-238" style="padding-left: 0.209em;"><span style="display: inline-block; position: relative; width: 1.294em; height: 0px;"><span style="position: absolute; clip: rect(2.843em 1000.003em 4.6em -999.997em); top: -3.975em; left: 0.003em;"><span class="mo" id="MathJax-Span-239" style="font-family: STIXSizeOneSym; vertical-align: -0.514em;">∑</span><span style="display: inline-block; width: 0px; height: 3.98em;"></span></span><span style="position: absolute; clip: rect(3.36em 1000.003em 4.238em -999.997em); top: -2.838em; left: 0.054em;"><span class="texatom" id="MathJax-Span-240"><span class="mrow" id="MathJax-Span-241"><span class="mi" id="MathJax-Span-242" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">o</span><span class="mo" id="MathJax-Span-243" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">∈</span><span class="mi" id="MathJax-Span-244" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">L<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 3.98em;"></span></span></span></span><span class="msubsup" id="MathJax-Span-245" style="padding-left: 0.209em;"><span style="display: inline-block; position: relative; width: 3.153em; height: 0px;"><span style="position: absolute; clip: rect(3.153em 1000.003em 4.341em -999.997em); top: -3.975em; left: 0.003em;"><span class="mtext" id="MathJax-Span-246" style="font-family: STIXGeneral-Regular;">weight</span><span style="display: inline-block; width: 0px; height: 3.98em;"></span></span><span style="position: absolute; top: -3.716em; left: 2.74em;"><span class="mi" id="MathJax-Span-247" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">o</span><span style="display: inline-block; width: 0px; height: 3.98em;"></span></span></span></span><span class="mo" id="MathJax-Span-248" style="font-family: STIXGeneral-Regular; padding-left: 0.261em;">×</span><span class="msubsup" id="MathJax-Span-249" style="padding-left: 0.261em;"><span style="display: inline-block; position: relative; width: 2.585em; height: 0px;"><span style="position: absolute; clip: rect(3.153em 1000.003em 4.135em -999.997em); top: -3.975em; left: 0.003em;"><span class="mtext" id="MathJax-Span-250" style="font-family: STIXGeneral-Regular;">taken</span><span style="display: inline-block; width: 0px; height: 3.98em;"></span></span><span style="position: absolute; top: -3.82em; left: 2.172em;"><span class="mi" id="MathJax-Span-251" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">o</span><span style="display: inline-block; width: 0px; height: 3.98em;"></span></span></span></span><span class="mo" id="MathJax-Span-252" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">≤</span><span class="mi" id="MathJax-Span-253" style="font-family: STIXGeneral-Italic; padding-left: 0.313em;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 3.98em;"></span></span></span><span style="display: inline-block; width: 0px; height: 5.839em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.12em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 5.941em; vertical-align: -2.684em;"></span></span></nobr></span></div><script type="math/tex; mode=display" id="MathJax-Element-17">\begin{split}\text{Max: } & \sum_{o \in L} \text{usefulness}_o \times \text{taken}_o\\
\text{Such that: } & \sum_{o \in L} \text{weight}_o \times \text{taken}_o \leq C\\\end{split}</script></div>
<p>Using Sage, we will give to our items a random weight:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">C</span> <span class="o">=</span> <span class="mi">1</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">L</span> <span class="o">=</span> <span class="p">[</span><span class="s">"pan"</span><span class="p">,</span> <span class="s">"book"</span><span class="p">,</span> <span class="s">"knife"</span><span class="p">,</span> <span class="s">"gourd"</span><span class="p">,</span> <span class="s">"flashlight"</span><span class="p">]</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">L</span><span class="o">.</span><span class="n">extend</span><span class="p">([</span><span class="s">"random_stuff_"</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">20</span><span class="p">)])</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">weight</span> <span class="o">=</span> <span class="p">{}</span>
<span class="gp">sage: </span><span class="n">usefulness</span> <span class="o">=</span> <span class="p">{}</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">set_random_seed</span><span class="p">(</span><span class="mi">685474</span><span class="p">)</span>
<span class="gp">sage: </span><span class="k">for</span> <span class="n">o</span> <span class="ow">in</span> <span class="n">L</span><span class="p">:</span>
<span class="go">....:     weight[o] = random()</span>
<span class="go">....:     usefulness[o] = random()</span>
</pre></div>
</div>
<p>We can now define the MILP itself</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">p</span> <span class="o">=</span> <span class="n">MixedIntegerLinearProgram</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">taken</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">new_variable</span><span class="p">(</span><span class="n">binary</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">p</span><span class="o">.</span><span class="n">add_constraint</span><span class="p">(</span><span class="nb">sum</span><span class="p">(</span><span class="n">weight</span><span class="p">[</span><span class="n">o</span><span class="p">]</span> <span class="o">*</span> <span class="n">taken</span><span class="p">[</span><span class="n">o</span><span class="p">]</span> <span class="k">for</span> <span class="n">o</span> <span class="ow">in</span> <span class="n">L</span><span class="p">)</span> <span class="o">&lt;=</span> <span class="n">C</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">p</span><span class="o">.</span><span class="n">set_objective</span><span class="p">(</span><span class="nb">sum</span><span class="p">(</span><span class="n">usefulness</span><span class="p">[</span><span class="n">o</span><span class="p">]</span> <span class="o">*</span> <span class="n">taken</span><span class="p">[</span><span class="n">o</span><span class="p">]</span> <span class="k">for</span> <span class="n">o</span> <span class="ow">in</span> <span class="n">L</span><span class="p">))</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">p</span><span class="o">.</span><span class="n">solve</span><span class="p">()</span> <span class="c"># abs tol 1e-6</span>
<span class="go">3.1502766806530307</span>
<span class="gp">sage: </span><span class="n">taken</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">get_values</span><span class="p">(</span><span class="n">taken</span><span class="p">)</span>
</pre></div>
</div>
<p>The solution found is (of course) admissible</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="nb">sum</span><span class="p">(</span><span class="n">weight</span><span class="p">[</span><span class="n">o</span><span class="p">]</span> <span class="o">*</span> <span class="n">taken</span><span class="p">[</span><span class="n">o</span><span class="p">]</span> <span class="k">for</span> <span class="n">o</span> <span class="ow">in</span> <span class="n">L</span><span class="p">)</span> <span class="c"># abs tol 1e-6</span>
<span class="go">0.6964959796619171</span>
</pre></div>
</div>
<p>Should we take a flashlight?</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">taken</span><span class="p">[</span><span class="s">"flashlight"</span><span class="p">]</span>
<span class="go">1.0</span>
</pre></div>
</div>
<p>Wise advice. Based on purely random considerations.</p>
</div>
</div>
<div class="section" id="matching">
<h2>Matching<a class="headerlink" href="http://doc.sagemath.org/html/en/thematic_tutorials/linear_programming.html#matching" title="Permalink to this headline">¶</a></h2>
<p>Given a graph <span class="math"><span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-18-Frame"><nobr><span class="math" id="MathJax-Span-254" role="math" style="width: 0.881em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.726em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.655em 1000.003em 2.637em -999.997em); top: -2.477em; left: 0.003em;"><span class="mrow" id="MathJax-Span-255"><span class="mi" id="MathJax-Span-256" style="font-family: STIXGeneral-Italic;">G</span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.941em; vertical-align: -0.059em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-18">G</script></span>, a matching is a set of pairwise disjoint edges. The
empty set is a trivial matching. So we focus our attention on maximum
matchings: we want to find in a graph a matching whose cardinality is
maximal. Computing the maximum matching in a graph is a polynomial
problem, which is a famous result of Edmonds. Edmonds’ algorithm is
based on local improvements and the proof that a given matching is
maximum if it cannot be improved. This algorithm is not the hardest to
implement among those graph theory can offer, though this problem can
be modeled with a very simple MILP.</p>
<p>To do it, we need – as previously – to associate a binary variable
to each one of our objects: the edges of our graph (a value of 1
meaning that the corresponding edge is included in the maximum
matching). Our constraint on the edges taken being that they are
disjoint, it is enough to require that, <span class="math"><span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-19-Frame"><nobr><span class="math" id="MathJax-Span-257" role="math" style="width: 0.571em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.467em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.862em 1000.003em 2.637em -999.997em); top: -2.477em; left: 0.003em;"><span class="mrow" id="MathJax-Span-258"><span class="mi" id="MathJax-Span-259" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.691em; vertical-align: -0.059em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-19">x</script></span> and <span class="math"><span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-20-Frame"><nobr><span class="math" id="MathJax-Span-260" role="math" style="width: 0.571em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.467em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.862em 1000.003em 2.843em -999.997em); top: -2.477em; left: 0.003em;"><span class="mrow" id="MathJax-Span-261"><span class="mi" id="MathJax-Span-262" style="font-family: STIXGeneral-Italic;">y</span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.941em; vertical-align: -0.309em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-20">y</script></span> being two edges
and <span class="math"><span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-21-Frame"><nobr><span class="math" id="MathJax-Span-263" role="math" style="width: 3.308em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.74em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.862em 1000.003em 2.947em -999.997em); top: -2.477em; left: 0.003em;"><span class="mrow" id="MathJax-Span-264"><span class="msubsup" id="MathJax-Span-265"><span style="display: inline-block; position: relative; width: 1.139em; height: 0px;"><span style="position: absolute; clip: rect(3.36em 1000.003em 4.135em -999.997em); top: -3.975em; left: 0.003em;"><span class="mi" id="MathJax-Span-266" style="font-family: STIXGeneral-Italic;">m</span><span style="display: inline-block; width: 0px; height: 3.98em;"></span></span><span style="position: absolute; top: -3.82em; left: 0.726em;"><span class="mi" id="MathJax-Span-267" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 3.98em;"></span></span></span></span><span class="mo" id="MathJax-Span-268" style="font-family: STIXGeneral-Regular;">,</span><span class="msubsup" id="MathJax-Span-269" style="padding-left: 0.209em;"><span style="display: inline-block; position: relative; width: 1.139em; height: 0px;"><span style="position: absolute; clip: rect(3.36em 1000.003em 4.135em -999.997em); top: -3.975em; left: 0.003em;"><span class="mi" id="MathJax-Span-270" style="font-family: STIXGeneral-Italic;">m</span><span style="display: inline-block; width: 0px; height: 3.98em;"></span></span><span style="position: absolute; top: -3.82em; left: 0.726em;"><span class="mi" id="MathJax-Span-271" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">y</span><span style="display: inline-block; width: 0px; height: 3.98em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.003em; vertical-align: -0.434em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-21">m_x, m_y</script></span> their associated variables, the inequality <span class="math"><span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-22-Frame"><nobr><span class="math" id="MathJax-Span-272" role="math" style="width: 6.459em; display: inline-block;"><span style="display: inline-block; position: relative; width: 5.323em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.655em 1000.003em 2.947em -999.997em); top: -2.477em; left: 0.003em;"><span class="mrow" id="MathJax-Span-273"><span class="msubsup" id="MathJax-Span-274"><span style="display: inline-block; position: relative; width: 1.139em; height: 0px;"><span style="position: absolute; clip: rect(3.36em 1000.003em 4.135em -999.997em); top: -3.975em; left: 0.003em;"><span class="mi" id="MathJax-Span-275" style="font-family: STIXGeneral-Italic;">m</span><span style="display: inline-block; width: 0px; height: 3.98em;"></span></span><span style="position: absolute; top: -3.82em; left: 0.726em;"><span class="mi" id="MathJax-Span-276" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 3.98em;"></span></span></span></span><span class="mo" id="MathJax-Span-277" style="font-family: STIXGeneral-Regular; padding-left: 0.261em;">+</span><span class="msubsup" id="MathJax-Span-278" style="padding-left: 0.261em;"><span style="display: inline-block; position: relative; width: 1.139em; height: 0px;"><span style="position: absolute; clip: rect(3.36em 1000.003em 4.135em -999.997em); top: -3.975em; left: 0.003em;"><span class="mi" id="MathJax-Span-279" style="font-family: STIXGeneral-Italic;">m</span><span style="display: inline-block; width: 0px; height: 3.98em;"></span></span><span style="position: absolute; top: -3.82em; left: 0.726em;"><span class="mi" id="MathJax-Span-280" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">y</span><span style="display: inline-block; width: 0px; height: 3.98em;"></span></span></span></span><span class="mo" id="MathJax-Span-281" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">≤</span><span class="mn" id="MathJax-Span-282" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">1</span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.316em; vertical-align: -0.434em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-22">m_x + m_y
\leq 1</script></span> is satisfied, as we are sure that the two of them cannot both
belong to the matching. Hence, we are able to write the MILP we
want. However, the number of inequalities can be easily decreased by
noticing that two edges cannot be taken simultaneously inside a
matching if and only if they have a common endpoint <span class="math"><span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-23-Frame"><nobr><span class="math" id="MathJax-Span-283" role="math" style="width: 0.571em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.467em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.862em 1000.003em 2.637em -999.997em); top: -2.477em; left: 0.003em;"><span class="mrow" id="MathJax-Span-284"><span class="mi" id="MathJax-Span-285" style="font-family: STIXGeneral-Italic;">v</span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.691em; vertical-align: -0.059em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-23">v</script></span>. We can then
require instead that at most one edge incident to <span class="math"><span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-24-Frame"><nobr><span class="math" id="MathJax-Span-286" role="math" style="width: 0.571em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.467em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.862em 1000.003em 2.637em -999.997em); top: -2.477em; left: 0.003em;"><span class="mrow" id="MathJax-Span-287"><span class="mi" id="MathJax-Span-288" style="font-family: STIXGeneral-Italic;">v</span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.691em; vertical-align: -0.059em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-24">v</script></span> be taken inside
the matching, which is a linear constraint. We will be solving:</p>
<div class="math">
<span class="MathJax_Preview" style="color: inherit;"></span><div class="MathJax_Display" style="text-align: center;"><span class="MathJax" id="MathJax-Element-25-Frame"><nobr><span class="math" id="MathJax-Span-289" role="math" style="width: 13.381em; display: inline-block;"><span style="display: inline-block; position: relative; width: 11.056em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(-0.927em 1000.003em 4.703em -999.997em); top: -2.115em; left: 0.003em;"><span class="mrow" id="MathJax-Span-290"><span class="mtable" id="MathJax-Span-291" style="padding-right: 0.158em; padding-left: 0.158em;"><span style="display: inline-block; position: relative; width: 10.695em; height: 0px;"><span style="position: absolute; clip: rect(1.604em 1000.003em 5.271em -999.997em); top: -4.336em; left: 0.003em;"><span style="display: inline-block; position: relative; width: 4.29em; height: 0px;"><span style="position: absolute; clip: rect(3.153em 1000.003em 4.135em -999.997em); top: -5.938em; right: 0.003em;"><span class="mtd" id="MathJax-Span-292"><span class="mrow" id="MathJax-Span-293"><span class="mtext" id="MathJax-Span-294" style="font-family: STIXGeneral-Regular;">Max:&nbsp;</span></span></span><span style="display: inline-block; width: 0px; height: 3.98em;"></span></span><span style="position: absolute; clip: rect(3.153em 1000.003em 4.135em -999.997em); top: -3.252em; right: 0.003em;"><span class="mtd" id="MathJax-Span-311"><span class="mrow" id="MathJax-Span-312"><span class="mtext" id="MathJax-Span-313" style="font-family: STIXGeneral-Regular;">Such that:&nbsp;</span></span></span><span style="display: inline-block; width: 0px; height: 3.98em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.341em;"></span></span><span style="position: absolute; clip: rect(3.308em 1000.003em 8.939em -999.997em); top: -6.351em; left: 4.29em;"><span style="display: inline-block; position: relative; width: 6.408em; height: 0px;"><span style="position: absolute; clip: rect(2.843em 1000.003em 5.529em -999.997em); top: -5.938em; left: 0.003em;"><span class="mtd" id="MathJax-Span-295"><span class="mrow" id="MathJax-Span-296"><span class="mi" id="MathJax-Span-297"></span><span class="munderover" id="MathJax-Span-298" style="padding-left: 0.209em;"><span style="display: inline-block; position: relative; width: 2.224em; height: 0px;"><span style="position: absolute; clip: rect(2.843em 1000.003em 4.6em -999.997em); top: -3.975em; left: 0.467em;"><span class="mo" id="MathJax-Span-299" style="font-family: STIXSizeOneSym; vertical-align: -0.514em;">∑</span><span style="display: inline-block; width: 0px; height: 3.98em;"></span></span><span style="position: absolute; clip: rect(3.36em 1000.003em 4.341em -999.997em); top: -2.838em; left: 0.003em;"><span class="texatom" id="MathJax-Span-300"><span class="mrow" id="MathJax-Span-301"><span class="mi" id="MathJax-Span-302" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">e</span><span class="mo" id="MathJax-Span-303" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">∈</span><span class="mi" id="MathJax-Span-304" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">E<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-305" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-306" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">G</span><span class="mo" id="MathJax-Span-307" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">)</span></span></span><span style="display: inline-block; width: 0px; height: 3.98em;"></span></span></span></span><span class="msubsup" id="MathJax-Span-308" style="padding-left: 0.209em;"><span style="display: inline-block; position: relative; width: 1.139em; height: 0px;"><span style="position: absolute; clip: rect(3.36em 1000.003em 4.135em -999.997em); top: -3.975em; left: 0.003em;"><span class="mi" id="MathJax-Span-309" style="font-family: STIXGeneral-Italic;">m</span><span style="display: inline-block; width: 0px; height: 3.98em;"></span></span><span style="position: absolute; top: -3.82em; left: 0.726em;"><span class="mi" id="MathJax-Span-310" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">e</span><span style="display: inline-block; width: 0px; height: 3.98em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 3.98em;"></span></span><span style="position: absolute; clip: rect(2.843em 1000.003em 5.788em -999.997em); top: -3.252em; left: 0.003em;"><span class="mtd" id="MathJax-Span-314"><span class="mrow" id="MathJax-Span-315"><span class="mi" id="MathJax-Span-316" style="font-family: STIXGeneral-Regular;">∀</span><span class="mi" id="MathJax-Span-317" style="font-family: STIXGeneral-Italic;">v</span><span class="mo" id="MathJax-Span-318" style="font-family: STIXGeneral-Regular;">,</span><span class="munderover" id="MathJax-Span-319" style="padding-left: 0.209em;"><span style="display: inline-block; position: relative; width: 1.81em; height: 0px;"><span style="position: absolute; clip: rect(2.843em 1000.003em 4.6em -999.997em); top: -3.975em; left: 0.261em;"><span class="mo" id="MathJax-Span-320" style="font-family: STIXSizeOneSym; vertical-align: -0.514em;">∑</span><span style="display: inline-block; width: 0px; height: 3.98em;"></span></span><span style="position: absolute; clip: rect(3.153em 1000.003em 4.496em -999.997em); top: -2.683em; left: 0.003em;"><span class="texatom" id="MathJax-Span-321"><span class="mrow" id="MathJax-Span-322"><span class="mfrac" id="MathJax-Span-323"><span style="display: inline-block; position: relative; width: 1.604em; height: 0px; margin-right: 0.106em; margin-left: 0.106em;"><span style="position: absolute; clip: rect(3.463em 1000.003em 4.238em -999.997em); top: -4.285em; left: 50%; margin-left: -0.772em;"><span class="mrow" id="MathJax-Span-324"><span class="mi" id="MathJax-Span-325" style="font-size: 50%; font-family: STIXGeneral-Italic;">e</span><span class="mo" id="MathJax-Span-326" style="font-size: 50%; font-family: STIXGeneral-Regular;">∈</span><span class="mi" id="MathJax-Span-327" style="font-size: 50%; font-family: STIXGeneral-Italic;">E<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-328" style="font-size: 50%; font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-329" style="font-size: 50%; font-family: STIXGeneral-Italic;">G</span><span class="mo" id="MathJax-Span-330" style="font-size: 50%; font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 3.98em;"></span></span><span style="position: absolute; clip: rect(3.618em 1000.003em 4.135em -999.997em); top: -3.716em; left: 50%; margin-left: -0.411em;"><span class="mrow" id="MathJax-Span-331"><span class="mi" id="MathJax-Span-332" style="font-size: 50%; font-family: STIXGeneral-Italic;">v</span><span class="mo" id="MathJax-Span-333" style="font-size: 50%; font-family: STIXGeneral-Regular;">∼</span><span class="mi" id="MathJax-Span-334" style="font-size: 50%; font-family: STIXGeneral-Italic;">e</span></span><span style="display: inline-block; width: 0px; height: 3.98em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 3.98em;"></span></span></span></span><span class="msubsup" id="MathJax-Span-335" style="padding-left: 0.209em;"><span style="display: inline-block; position: relative; width: 1.139em; height: 0px;"><span style="position: absolute; clip: rect(3.36em 1000.003em 4.135em -999.997em); top: -3.975em; left: 0.003em;"><span class="mi" id="MathJax-Span-336" style="font-family: STIXGeneral-Italic;">m</span><span style="display: inline-block; width: 0px; height: 3.98em;"></span></span><span style="position: absolute; top: -3.82em; left: 0.726em;"><span class="mi" id="MathJax-Span-337" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">e</span><span style="display: inline-block; width: 0px; height: 3.98em;"></span></span></span></span><span class="mo" id="MathJax-Span-338" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">≤</span><span class="mn" id="MathJax-Span-339" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">1</span></span></span><span style="display: inline-block; width: 0px; height: 3.98em;"></span></span></span><span style="display: inline-block; width: 0px; height: 6.356em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.12em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 6.566em; vertical-align: -2.997em;"></span></span></nobr></span></div><script type="math/tex; mode=display" id="MathJax-Element-25">\begin{split}\text{Max: } & \sum_{e \in E(G)} m_e\\
\text{Such that: } & \forall v, \sum_{e \in E(G) \atop v \sim e} m_e \leq 1\end{split}</script></div>
<p>Let us write the Sage code of this MILP:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">g</span> <span class="o">=</span> <span class="n">graphs</span><span class="o">.</span><span class="n">PetersenGraph</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">p</span> <span class="o">=</span> <span class="n">MixedIntegerLinearProgram</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">matching</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">new_variable</span><span class="p">(</span><span class="n">binary</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">p</span><span class="o">.</span><span class="n">set_objective</span><span class="p">(</span><span class="nb">sum</span><span class="p">(</span><span class="n">matching</span><span class="p">[</span><span class="n">e</span><span class="p">]</span> <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="n">g</span><span class="o">.</span><span class="n">edges</span><span class="p">(</span><span class="n">labels</span><span class="o">=</span><span class="bp">False</span><span class="p">)))</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">g</span><span class="p">:</span>
<span class="go">....:     p.add_constraint(sum(matching[e]</span>
<span class="go">....:         for e in g.edges_incident(v, labels=False)) &lt;= 1)</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">p</span><span class="o">.</span><span class="n">solve</span><span class="p">()</span>
<span class="go">5.0</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">matching</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">get_values</span><span class="p">(</span><span class="n">matching</span><span class="p">)</span>
<span class="gp">sage: </span><span class="p">[</span><span class="n">e</span> <span class="k">for</span> <span class="n">e</span><span class="p">,</span><span class="n">b</span> <span class="ow">in</span> <span class="n">matching</span><span class="o">.</span><span class="n">iteritems</span><span class="p">()</span> <span class="k">if</span> <span class="n">b</span> <span class="o">==</span> <span class="mi">1</span><span class="p">]</span>  <span class="c"># not tested</span>
<span class="go">[(0, 1), (6, 9), (2, 7), (3, 4), (5, 8)]</span>
</pre></div>
</div>
</div>
<div class="section" id="flows">
<h2>Flows<a class="headerlink" href="http://doc.sagemath.org/html/en/thematic_tutorials/linear_programming.html#flows" title="Permalink to this headline">¶</a></h2>
<p>Yet another fundamental algorithm in graph theory: maximum flow! It
consists, given a directed graph and two vertices <span class="math"><span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-26-Frame"><nobr><span class="math" id="MathJax-Span-340" role="math" style="width: 1.397em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.139em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.759em 1000.003em 2.792em -999.997em); top: -2.477em; left: 0.003em;"><span class="mrow" id="MathJax-Span-341"><span class="mi" id="MathJax-Span-342" style="font-family: STIXGeneral-Italic;">s</span><span class="mo" id="MathJax-Span-343" style="font-family: STIXGeneral-Regular;">,</span><span class="mi" id="MathJax-Span-344" style="font-family: STIXGeneral-Italic; padding-left: 0.209em;">t<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.941em; vertical-align: -0.247em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-26">s, t</script></span>, in sending a
maximum <em>flow</em> from <span class="math"><span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-27-Frame"><nobr><span class="math" id="MathJax-Span-345" role="math" style="width: 0.519em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.416em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.862em 1000.003em 2.637em -999.997em); top: -2.477em; left: 0.003em;"><span class="mrow" id="MathJax-Span-346"><span class="mi" id="MathJax-Span-347" style="font-family: STIXGeneral-Italic;">s</span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.691em; vertical-align: -0.059em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-27">s</script></span> to <span class="math"><span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-28-Frame"><nobr><span class="math" id="MathJax-Span-348" role="math" style="width: 0.416em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.313em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.759em 1000.003em 2.637em -999.997em); top: -2.477em; left: 0.003em;"><span class="mrow" id="MathJax-Span-349"><span class="mi" id="MathJax-Span-350" style="font-family: STIXGeneral-Italic;">t<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.816em; vertical-align: -0.059em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-28">t</script></span> using the edges of <span class="math"><span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-29-Frame"><nobr><span class="math" id="MathJax-Span-351" role="math" style="width: 0.881em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.726em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.655em 1000.003em 2.637em -999.997em); top: -2.477em; left: 0.003em;"><span class="mrow" id="MathJax-Span-352"><span class="mi" id="MathJax-Span-353" style="font-family: STIXGeneral-Italic;">G</span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.941em; vertical-align: -0.059em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-29">G</script></span>, each of them
having a maximal capacity.</p>
<img alt="_images/lp_flot1.png" class="align-center" src="./Linear Programming (Mixed Integer) — Thematic Tutorials v6.8_files/lp_flot1.png">
<p>The definition of this problem is almost its LP formulation. We are
looking for real values associated to each edge, which would
represent the intensity of flow going through them, under two types of
constraints:</p>
<ul class="simple">
<li>The amount of flow arriving on a vertex (different from <span class="math"><span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-30-Frame"><nobr><span class="math" id="MathJax-Span-354" role="math" style="width: 0.519em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.416em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.862em 1000.003em 2.637em -999.997em); top: -2.477em; left: 0.003em;"><span class="mrow" id="MathJax-Span-355"><span class="mi" id="MathJax-Span-356" style="font-family: STIXGeneral-Italic;">s</span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.691em; vertical-align: -0.059em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-30">s</script></span> or <span class="math"><span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-31-Frame"><nobr><span class="math" id="MathJax-Span-357" role="math" style="width: 0.416em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.313em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.759em 1000.003em 2.637em -999.997em); top: -2.477em; left: 0.003em;"><span class="mrow" id="MathJax-Span-358"><span class="mi" id="MathJax-Span-359" style="font-family: STIXGeneral-Italic;">t<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.816em; vertical-align: -0.059em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-31">t</script></span>)
is equal to the amount of flow leaving it.</li>
<li>The amount of flow going through an edge is bounded by the capacity
of this edge.</li>
</ul>
<p>This being said, we have to maximize the amount of flow leaving
<span class="math"><span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-32-Frame"><nobr><span class="math" id="MathJax-Span-360" role="math" style="width: 0.519em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.416em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.862em 1000.003em 2.637em -999.997em); top: -2.477em; left: 0.003em;"><span class="mrow" id="MathJax-Span-361"><span class="mi" id="MathJax-Span-362" style="font-family: STIXGeneral-Italic;">s</span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.691em; vertical-align: -0.059em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-32">s</script></span>: all of it will end up in <span class="math"><span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-33-Frame"><nobr><span class="math" id="MathJax-Span-363" role="math" style="width: 0.416em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.313em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.759em 1000.003em 2.637em -999.997em); top: -2.477em; left: 0.003em;"><span class="mrow" id="MathJax-Span-364"><span class="mi" id="MathJax-Span-365" style="font-family: STIXGeneral-Italic;">t<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.816em; vertical-align: -0.059em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-33">t</script></span>, as the other vertices are sending
just as much as they receive. We can model the flow problem with the
following LP</p>
<div class="math">
<span class="MathJax_Preview" style="color: inherit;"></span><div class="MathJax_Display" style="text-align: center;"><span class="MathJax" id="MathJax-Element-34-Frame"><nobr><span class="math" id="MathJax-Span-366" role="math" style="width: 23.97em; display: inline-block;"><span style="display: inline-block; position: relative; width: 19.786em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(-1.547em 1000.003em 5.271em -999.997em); top: -2.115em; left: 0.003em;"><span class="mrow" id="MathJax-Span-367"><span class="mtable" id="MathJax-Span-368" style="padding-right: 0.158em; padding-left: 0.158em;"><span style="display: inline-block; position: relative; width: 19.424em; height: 0px;"><span style="position: absolute; clip: rect(3.67em 1000.003em 9.972em -999.997em); top: -7.022em; left: 0.003em;"><span style="display: inline-block; position: relative; width: 4.29em; height: 0px;"><span style="position: absolute; clip: rect(3.153em 1000.003em 4.135em -999.997em); top: -6.506em; right: 0.003em;"><span class="mtd" id="MathJax-Span-369"><span class="mrow" id="MathJax-Span-370"><span class="mtext" id="MathJax-Span-371" style="font-family: STIXGeneral-Regular;">Max:&nbsp;</span></span></span><span style="display: inline-block; width: 0px; height: 3.98em;"></span></span><span style="position: absolute; clip: rect(3.153em 1000.003em 4.135em -999.997em); top: -3.561em; right: 0.003em;"><span class="mtd" id="MathJax-Span-389"><span class="mrow" id="MathJax-Span-390"><span class="mtext" id="MathJax-Span-391" style="font-family: STIXGeneral-Regular;">Such that:&nbsp;</span></span></span><span style="display: inline-block; width: 0px; height: 3.98em;"></span></span><span style="position: absolute; clip: rect(3.825em 1000.003em 4.135em -999.997em); top: -1.185em; right: 0.003em;"><span class="mtd" id="MathJax-Span-442"><span class="mrow" id="MathJax-Span-443"></span></span><span style="display: inline-block; width: 0px; height: 3.98em;"></span></span></span><span style="display: inline-block; width: 0px; height: 7.027em;"></span></span><span style="position: absolute; clip: rect(3.877em 1000.003em 10.695em -999.997em); top: -7.539em; left: 4.29em;"><span style="display: inline-block; position: relative; width: 15.137em; height: 0px;"><span style="position: absolute; clip: rect(2.843em 1000.003em 5.426em -999.997em); top: -6.506em; left: 0.003em;"><span class="mtd" id="MathJax-Span-372"><span class="mrow" id="MathJax-Span-373"><span class="mi" id="MathJax-Span-374"></span><span class="munderover" id="MathJax-Span-375" style="padding-left: 0.209em;"><span style="display: inline-block; position: relative; width: 1.604em; height: 0px;"><span style="position: absolute; clip: rect(2.843em 1000.003em 4.6em -999.997em); top: -3.975em; left: 0.158em;"><span class="mo" id="MathJax-Span-376" style="font-family: STIXSizeOneSym; vertical-align: -0.514em;">∑</span><span style="display: inline-block; width: 0px; height: 3.98em;"></span></span><span style="position: absolute; clip: rect(3.36em 1000.003em 4.238em -999.997em); top: -2.838em; left: 0.003em;"><span class="texatom" id="MathJax-Span-377"><span class="mrow" id="MathJax-Span-378"><span class="mi" id="MathJax-Span-379" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">s</span><span class="mi" id="MathJax-Span-380" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">v</span><span class="mo" id="MathJax-Span-381" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">∈</span><span class="mi" id="MathJax-Span-382" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">G</span></span></span><span style="display: inline-block; width: 0px; height: 3.98em;"></span></span></span></span><span class="msubsup" id="MathJax-Span-383" style="padding-left: 0.209em;"><span style="display: inline-block; position: relative; width: 0.932em; height: 0px;"><span style="position: absolute; clip: rect(3.153em 1000.003em 4.341em -999.997em); top: -3.975em; left: 0.003em;"><span class="mi" id="MathJax-Span-384" style="font-family: STIXGeneral-Italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.158em;"></span></span><span style="display: inline-block; width: 0px; height: 3.98em;"></span></span><span style="position: absolute; top: -3.82em; left: 0.261em;"><span class="texatom" id="MathJax-Span-385"><span class="mrow" id="MathJax-Span-386"><span class="mi" id="MathJax-Span-387" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">s</span><span class="mi" id="MathJax-Span-388" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">v</span></span></span><span style="display: inline-block; width: 0px; height: 3.98em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 3.98em;"></span></span><span style="position: absolute; clip: rect(2.482em 1000.003em 5.426em -999.997em); top: -3.561em; left: 0.003em;"><span class="mtd" id="MathJax-Span-392"><span class="mrow" id="MathJax-Span-393"><span class="mi" id="MathJax-Span-394" style="font-family: STIXGeneral-Regular;">∀</span><span class="mi" id="MathJax-Span-395" style="font-family: STIXGeneral-Italic;">v</span><span class="mo" id="MathJax-Span-396" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">∈</span><span class="mi" id="MathJax-Span-397" style="font-family: STIXGeneral-Italic; padding-left: 0.313em;">G</span><span class="mo" id="MathJax-Span-398" style="font-family: STIXGeneral-Regular;">,</span><span class="texatom" id="MathJax-Span-399" style="padding-left: 0.209em;"><span class="mrow" id="MathJax-Span-400"><span class="mfrac" id="MathJax-Span-401"><span style="display: inline-block; position: relative; width: 2.172em; height: 0px; margin-right: 0.106em; margin-left: 0.106em;"><span style="position: absolute; clip: rect(3.153em 1000.003em 4.29em -999.997em); top: -4.646em; left: 50%; margin-left: -1.082em;"><span class="mrow" id="MathJax-Span-402"><span class="mi" id="MathJax-Span-403" style="font-family: STIXGeneral-Italic;">v</span><span class="mo" id="MathJax-Span-404" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">≠</span><span class="mi" id="MathJax-Span-405" style="font-family: STIXGeneral-Italic; padding-left: 0.313em;">s</span></span><span style="display: inline-block; width: 0px; height: 3.98em;"></span></span><span style="position: absolute; clip: rect(3.153em 1000.003em 4.29em -999.997em); top: -3.303em; left: 50%; margin-left: -1.03em;"><span class="mrow" id="MathJax-Span-406"><span class="mi" id="MathJax-Span-407" style="font-family: STIXGeneral-Italic;">v</span><span class="mo" id="MathJax-Span-408" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">≠</span><span class="mi" id="MathJax-Span-409" style="font-family: STIXGeneral-Italic; padding-left: 0.313em;">t<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span><span style="display: inline-block; width: 0px; height: 3.98em;"></span></span></span></span></span></span><span class="mo" id="MathJax-Span-410" style="font-family: STIXGeneral-Regular;">,</span><span class="munderover" id="MathJax-Span-411" style="padding-left: 0.209em;"><span style="display: inline-block; position: relative; width: 1.655em; height: 0px;"><span style="position: absolute; clip: rect(2.843em 1000.003em 4.6em -999.997em); top: -3.975em; left: 0.209em;"><span class="mo" id="MathJax-Span-412" style="font-family: STIXSizeOneSym; vertical-align: -0.514em;">∑</span><span style="display: inline-block; width: 0px; height: 3.98em;"></span></span><span style="position: absolute; clip: rect(3.36em 1000.003em 4.238em -999.997em); top: -2.838em; left: 0.003em;"><span class="texatom" id="MathJax-Span-413"><span class="mrow" id="MathJax-Span-414"><span class="mi" id="MathJax-Span-415" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">v</span><span class="mi" id="MathJax-Span-416" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">u</span><span class="mo" id="MathJax-Span-417" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">∈</span><span class="mi" id="MathJax-Span-418" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">G</span></span></span><span style="display: inline-block; width: 0px; height: 3.98em;"></span></span></span></span><span class="msubsup" id="MathJax-Span-419" style="padding-left: 0.209em;"><span style="display: inline-block; position: relative; width: 1.036em; height: 0px;"><span style="position: absolute; clip: rect(3.153em 1000.003em 4.341em -999.997em); top: -3.975em; left: 0.003em;"><span class="mi" id="MathJax-Span-420" style="font-family: STIXGeneral-Italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.158em;"></span></span><span style="display: inline-block; width: 0px; height: 3.98em;"></span></span><span style="position: absolute; top: -3.82em; left: 0.261em;"><span class="texatom" id="MathJax-Span-421"><span class="mrow" id="MathJax-Span-422"><span class="mi" id="MathJax-Span-423" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">v</span><span class="mi" id="MathJax-Span-424" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">u</span></span></span><span style="display: inline-block; width: 0px; height: 3.98em;"></span></span></span></span><span class="mo" id="MathJax-Span-425" style="font-family: STIXGeneral-Regular; padding-left: 0.261em;">−</span><span class="munderover" id="MathJax-Span-426" style="padding-left: 0.261em;"><span style="display: inline-block; position: relative; width: 1.655em; height: 0px;"><span style="position: absolute; clip: rect(2.843em 1000.003em 4.6em -999.997em); top: -3.975em; left: 0.209em;"><span class="mo" id="MathJax-Span-427" style="font-family: STIXSizeOneSym; vertical-align: -0.514em;">∑</span><span style="display: inline-block; width: 0px; height: 3.98em;"></span></span><span style="position: absolute; clip: rect(3.36em 1000.003em 4.238em -999.997em); top: -2.838em; left: 0.003em;"><span class="texatom" id="MathJax-Span-428"><span class="mrow" id="MathJax-Span-429"><span class="mi" id="MathJax-Span-430" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">u</span><span class="mi" id="MathJax-Span-431" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">v</span><span class="mo" id="MathJax-Span-432" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">∈</span><span class="mi" id="MathJax-Span-433" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">G</span></span></span><span style="display: inline-block; width: 0px; height: 3.98em;"></span></span></span></span><span class="msubsup" id="MathJax-Span-434" style="padding-left: 0.209em;"><span style="display: inline-block; position: relative; width: 1.036em; height: 0px;"><span style="position: absolute; clip: rect(3.153em 1000.003em 4.341em -999.997em); top: -3.975em; left: 0.003em;"><span class="mi" id="MathJax-Span-435" style="font-family: STIXGeneral-Italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.158em;"></span></span><span style="display: inline-block; width: 0px; height: 3.98em;"></span></span><span style="position: absolute; top: -3.82em; left: 0.261em;"><span class="texatom" id="MathJax-Span-436"><span class="mrow" id="MathJax-Span-437"><span class="mi" id="MathJax-Span-438" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">u</span><span class="mi" id="MathJax-Span-439" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">v</span></span></span><span style="display: inline-block; width: 0px; height: 3.98em;"></span></span></span></span><span class="mo" id="MathJax-Span-440" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">=</span><span class="mn" id="MathJax-Span-441" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">0</span></span></span><span style="display: inline-block; width: 0px; height: 3.98em;"></span></span><span style="position: absolute; clip: rect(3.153em 1000.003em 4.341em -999.997em); top: -1.185em; left: 0.003em;"><span class="mtd" id="MathJax-Span-444"><span class="mrow" id="MathJax-Span-445"><span class="mi" id="MathJax-Span-446" style="font-family: STIXGeneral-Regular;">∀</span><span class="mi" id="MathJax-Span-447" style="font-family: STIXGeneral-Italic;">u</span><span class="mi" id="MathJax-Span-448" style="font-family: STIXGeneral-Italic;">v</span><span class="mo" id="MathJax-Span-449" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">∈</span><span class="mi" id="MathJax-Span-450" style="font-family: STIXGeneral-Italic; padding-left: 0.313em;">G</span><span class="mo" id="MathJax-Span-451" style="font-family: STIXGeneral-Regular;">,</span><span class="msubsup" id="MathJax-Span-452" style="padding-left: 0.209em;"><span style="display: inline-block; position: relative; width: 1.036em; height: 0px;"><span style="position: absolute; clip: rect(3.153em 1000.003em 4.341em -999.997em); top: -3.975em; left: 0.003em;"><span class="mi" id="MathJax-Span-453" style="font-family: STIXGeneral-Italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.158em;"></span></span><span style="display: inline-block; width: 0px; height: 3.98em;"></span></span><span style="position: absolute; top: -3.82em; left: 0.261em;"><span class="texatom" id="MathJax-Span-454"><span class="mrow" id="MathJax-Span-455"><span class="mi" id="MathJax-Span-456" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">u</span><span class="mi" id="MathJax-Span-457" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">v</span></span></span><span style="display: inline-block; width: 0px; height: 3.98em;"></span></span></span></span><span class="mo" id="MathJax-Span-458" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">≤</span><span class="mn" id="MathJax-Span-459" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">1</span></span></span><span style="display: inline-block; width: 0px; height: 3.98em;"></span></span></span><span style="display: inline-block; width: 0px; height: 7.544em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.12em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 8.003em; vertical-align: -3.684em;"></span></span></nobr></span></div><script type="math/tex; mode=display" id="MathJax-Element-34">\begin{split}\text{Max: } & \sum_{sv \in G} f_{sv}\\
\text{Such that: } & \forall v \in G, {v \neq s \atop v \neq t}, \sum_{vu \in G} f_{vu} - \sum_{uv \in G} f_{uv} = 0\\
& \forall uv \in G, f_{uv} \leq 1\\\end{split}</script></div>
<p>We will solve the flow problem on an orientation of Chvatal’s
graph, in which all the edges have a capacity of 1:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">g</span> <span class="o">=</span> <span class="n">graphs</span><span class="o">.</span><span class="n">ChvatalGraph</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">g</span> <span class="o">=</span> <span class="n">g</span><span class="o">.</span><span class="n">minimum_outdegree_orientation</span><span class="p">()</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">p</span> <span class="o">=</span> <span class="n">MixedIntegerLinearProgram</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">new_variable</span><span class="p">(</span><span class="n">real</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">nonnegative</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">s</span><span class="p">,</span> <span class="n">t</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">2</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">g</span><span class="p">:</span>
<span class="go">....:     if v != s and v != t:</span>
<span class="go">....:         p.add_constraint(</span>
<span class="go">....:             sum(f[(v,u)] for u in g.neighbors_out(v))</span>
<span class="go">....:             - sum(f[(u,v)] for u in g.neighbors_in(v)) == 0)</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="n">g</span><span class="o">.</span><span class="n">edges</span><span class="p">(</span><span class="n">labels</span><span class="o">=</span><span class="bp">False</span><span class="p">):</span>
<span class="go">....:     p.add_constraint(f[e] &lt;= 1)</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">p</span><span class="o">.</span><span class="n">set_objective</span><span class="p">(</span><span class="nb">sum</span><span class="p">(</span><span class="n">f</span><span class="p">[(</span><span class="n">s</span><span class="p">,</span><span class="n">u</span><span class="p">)]</span> <span class="k">for</span> <span class="n">u</span> <span class="ow">in</span> <span class="n">g</span><span class="o">.</span><span class="n">neighbors_out</span><span class="p">(</span><span class="n">s</span><span class="p">)))</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">p</span><span class="o">.</span><span class="n">solve</span><span class="p">()</span>  <span class="c"># rel tol 2e-11</span>
<span class="go">2.0</span>
</pre></div>
</div>
<img alt="_images/lp_flot2.png" class="align-center" src="./Linear Programming (Mixed Integer) — Thematic Tutorials v6.8_files/lp_flot2.png">
</div>
<div class="section" id="solvers">
<h2>Solvers<a class="headerlink" href="http://doc.sagemath.org/html/en/thematic_tutorials/linear_programming.html#solvers" title="Permalink to this headline">¶</a></h2>
<p>Sage solves linear programs by calling specific libraries. The
following libraries are currently supported:</p>
<ul>
<li><p class="first"><a class="reference external" href="http://www.coin-or.org/projects/Cbc.xml">CBC</a>: A solver from
<a class="reference external" href="http://www.coin-or.org/">COIN-OR</a></p>
<p>Provided under the open source license CPL, but incompatible with
GPL. CBC can be installed through the command <tt class="docutils literal"><span class="pre">install_package("cbc")</span></tt>.</p>
</li>
<li><p class="first"><a class="reference external" href="http://www-01.ibm.com/software/integration/optimization/cplex/">CPLEX</a>:
A solver from <a class="reference external" href="http://www.ilog.com/">ILOG</a></p>
<p>Proprietary, but free for researchers and students.</p>
</li>
<li><p class="first"><a class="reference external" href="http://cvxopt.org/">CVXOPT</a>: an LP solver from Python Software for
Convex Optimization, uses an interior-point method, always installed in Sage.</p>
<p>Licensed under the GPL.</p>
</li>
<li><p class="first"><a class="reference external" href="http://www.gnu.org/software/glpk/">GLPK</a>: A solver from <a class="reference external" href="http://www.gnu.org/">GNU</a></p>
<p>Licensed under the GPLv3. This solver is always installed, as the default one, in Sage.</p>
</li>
<li><p class="first"><a class="reference external" href="http://www.gurobi.com/">GUROBI</a></p>
<p>Proprietary, but free for researchers and students.</p>
</li>
<li><p class="first"><a class="reference external" href="http://bugseng.com/products/ppl">PPL</a>: A solver from bugSeng.</p>
<p>This solver provides exact (arbitrary precision) computation, always installed in Sage.</p>
<p>Licensed under the GPLv3.</p>
</li>
</ul>
</div>
<div class="section" id="using-cplex-or-gurobi-through-sage">
<h2>Using CPLEX or GUROBI through Sage<a class="headerlink" href="http://doc.sagemath.org/html/en/thematic_tutorials/linear_programming.html#using-cplex-or-gurobi-through-sage" title="Permalink to this headline">¶</a></h2>
<p>ILOG’s CPLEX and GUROBI being proprietary softwares, you must be in possession
of several files to use it through Sage. In each case, the <strong>expected</strong> (it may
change !) filename is joined.</p>
<ul>
<li><dl class="first docutils">
<dt>A valid license file</dt>
<dd><ul class="first last simple">
<li>CPLEX : a <tt class="docutils literal"><span class="pre">.ilm</span></tt> file</li>
<li>GUROBI : a <tt class="docutils literal"><span class="pre">.lic</span></tt> file</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>A compiled version of the library</dt>
<dd><ul class="first last simple">
<li>CPLEX : <tt class="docutils literal"><span class="pre">libcplex.a</span></tt></li>
<li>GUROBI : <tt class="docutils literal"><span class="pre">libgurobi55.so</span></tt> (or more recent)</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>The library file</dt>
<dd><ul class="first last simple">
<li>CPLEX : <tt class="docutils literal"><span class="pre">cplex.h</span></tt></li>
<li>GUROBI : <tt class="docutils literal"><span class="pre">gurobi_c.h</span></tt></li>
</ul>
</dd>
</dl>
</li>
</ul>
<p>The environment variable defining the licence’s path must also be set when
running Sage. You can append to your <tt class="docutils literal"><span class="pre">.bashrc</span></tt> file one of the following :</p>
<blockquote>
<div><ul>
<li><p class="first">For CPLEX</p>
<div class="highlight-python"><div class="highlight"><pre>export ILOG_LICENSE_FILE=/path/to/the/license/ilog/ilm/access_1.ilm
</pre></div>
</div>
</li>
<li><p class="first">For GUROBI</p>
<div class="highlight-python"><div class="highlight"><pre>export GRB_LICENSE_FILE=/path/to/the/license/gurobi.lic
</pre></div>
</div>
</li>
</ul>
</div></blockquote>
<p>As Sage also needs the files library and header files the easiest way is to
create symbolic links to these files in the appropriate directories:</p>
<ul>
<li><dl class="first docutils">
<dt>For CPLEX:</dt>
<dd><ul class="first last">
<li><p class="first"><tt class="docutils literal"><span class="pre">libcplex.a</span></tt> – in <tt class="docutils literal"><span class="pre">SAGE_ROOT/local/lib/</span></tt>, type:</p>
<div class="highlight-python"><div class="highlight"><pre>ln -s /path/to/lib/libcplex.a .
</pre></div>
</div>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">cplex.h</span></tt> – in <tt class="docutils literal"><span class="pre">SAGE_ROOT/local/include/</span></tt>, type:</p>
<div class="highlight-python"><div class="highlight"><pre>ln -s /path/to/include/cplex.h .
</pre></div>
</div>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">cpxconst.h</span></tt> (if it exists) – in <tt class="docutils literal"><span class="pre">SAGE_ROOT/local/include/</span></tt>, type:</p>
<div class="highlight-python"><div class="highlight"><pre>ln -s /path/to/include/cpxconst.h .
</pre></div>
</div>
</li>
</ul>
</dd>
</dl>
</li>
<li><p class="first">For GUROBI</p>
<blockquote>
<div><ul>
<li><p class="first"><tt class="docutils literal"><span class="pre">libgurobi56.so</span></tt> – in <tt class="docutils literal"><span class="pre">SAGE_ROOT/local/lib/</span></tt>, type:</p>
<div class="highlight-python"><div class="highlight"><pre>ln -s /path/to/lib/libgurobi56.so libgurobi.so
</pre></div>
</div>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">gurobi_c.h</span></tt> – in <tt class="docutils literal"><span class="pre">SAGE_ROOT/local/include/</span></tt>, type:</p>
<div class="highlight-python"><div class="highlight"><pre>ln -s /path/to/include/gurobi_c.h .
</pre></div>
</div>
</li>
</ul>
</div></blockquote>
</li>
</ul>
<p><strong>It is very important that the names of the symbolic links in Sage’s folders</strong>
** be precisely as indicated. If the names differ, Sage will not notice that**
<strong>the files are present</strong></p>
<p>Once this is done, Sage is to be asked to notice the changes by calling:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">sage</span> <span class="o">-</span><span class="n">b</span>
</pre></div>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <h3><a href="http://doc.sagemath.org/html/en/thematic_tutorials/index.html">Table Of Contents</a></h3>
            <ul>
<li><a class="reference internal" href="http://doc.sagemath.org/html/en/thematic_tutorials/linear_programming.html#">Linear Programming (Mixed Integer)</a><ul>
<li><a class="reference internal" href="http://doc.sagemath.org/html/en/thematic_tutorials/linear_programming.html#definition">Definition</a></li>
<li><a class="reference internal" href="http://doc.sagemath.org/html/en/thematic_tutorials/linear_programming.html#mixed-integer-linear-programming">Mixed integer linear programming</a></li>
<li><a class="reference internal" href="http://doc.sagemath.org/html/en/thematic_tutorials/linear_programming.html#practical">Practical</a><ul>
<li><a class="reference internal" href="http://doc.sagemath.org/html/en/thematic_tutorials/linear_programming.html#the-milp-class">The <tt class="docutils literal"><span class="pre">MILP</span></tt> class</a></li>
<li><a class="reference internal" href="http://doc.sagemath.org/html/en/thematic_tutorials/linear_programming.html#variables">Variables</a><ul>
<li><a class="reference internal" href="http://doc.sagemath.org/html/en/thematic_tutorials/linear_programming.html#typed-variables-and-bounds">Typed variables and bounds</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="http://doc.sagemath.org/html/en/thematic_tutorials/linear_programming.html#basic-linear-programs">Basic linear programs</a><ul>
<li><a class="reference internal" href="http://doc.sagemath.org/html/en/thematic_tutorials/linear_programming.html#knapsack">Knapsack</a></li>
</ul>
</li>
<li><a class="reference internal" href="http://doc.sagemath.org/html/en/thematic_tutorials/linear_programming.html#matching">Matching</a></li>
<li><a class="reference internal" href="http://doc.sagemath.org/html/en/thematic_tutorials/linear_programming.html#flows">Flows</a></li>
<li><a class="reference internal" href="http://doc.sagemath.org/html/en/thematic_tutorials/linear_programming.html#solvers">Solvers</a></li>
<li><a class="reference internal" href="http://doc.sagemath.org/html/en/thematic_tutorials/linear_programming.html#using-cplex-or-gurobi-through-sage">Using CPLEX or GUROBI through Sage</a></li>
</ul>
</li>
</ul>

            <h4>Previous topic</h4>
            <p class="topless"><a href="http://doc.sagemath.org/html/en/thematic_tutorials/lie/bibliography.html" title="previous chapter">Bibliography</a></p>
            <h4>Next topic</h4>
            <p class="topless"><a href="http://doc.sagemath.org/html/en/thematic_tutorials/numtheory_rsa.html" title="next chapter">Number Theory and the RSA Public Key Cryptosystem</a></p>
            <h3>This Page</h3>
            <ul class="this-page-menu">
              <li><a href="http://doc.sagemath.org/html/en/thematic_tutorials/_sources/linear_programming.txt" rel="nofollow">Show Source</a></li>
            </ul>
          <div id="searchbox">
            <h3>Quick search</h3>
              <form class="search" action="http://doc.sagemath.org/html/en/thematic_tutorials/search.html" method="get">
                <input type="text" name="q" size="18">
                <!-- The shading of the "Go" button should be consistent -->
                <!-- with the colour of the header and footer. See the file -->
                <!-- doc/common/themes/sage/theme.conf for colours used by -->
                <!-- the Sage theme. -->
                <input type="submit" style="background-color: #B8B9F6" value="Go">
                <input type="hidden" name="check_keywords" value="yes">
                <input type="hidden" name="area" value="default">
              </form>
              <p class="searchtip" style="font-size: 90%">
              Enter search terms or a module, class or function name.
              </p>
          </div>
          <script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="http://doc.sagemath.org/html/en/thematic_tutorials/genindex.html" title="General Index">index</a></li>
        <li class="right">
          <a href="http://doc.sagemath.org/html/en/thematic_tutorials/py-modindex.html" title="Python Module Index">modules</a> |</li>
        <li class="right">
          <a href="http://doc.sagemath.org/html/en/thematic_tutorials/numtheory_rsa.html" title="Number Theory and the RSA Public Key Cryptosystem">next</a> |</li>
        <li class="right">
          <a href="http://doc.sagemath.org/html/en/thematic_tutorials/lie/bibliography.html" title="Bibliography">previous</a> |</li>
  
    
      <a href="http://doc.sagemath.org/html/en/index.html"><img src="./Linear Programming (Mixed Integer) — Thematic Tutorials v6.8_files/sagelogo.png" style="vertical-align: middle" title="Sage Logo"></a>
    
  
  
        <li><a href="http://doc.sagemath.org/html/en/thematic_tutorials/index.html">Thematic Tutorials v6.8</a> »</li>

          <li><a href="http://doc.sagemath.org/html/en/thematic_tutorials/toctree.html">Thematic tutorial document tree</a> »</li> 
      </ul>
    </div>
    
    <div class="footer">
        © Copyright 2005--2015, The Sage Development Team.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.2.
    </div>
    <script type="text/javascript">
/*global jQuery, window */
/* Sphinx sidebar toggle.  Putting this code at the end of the body
 * enables the toggle for the live, static, and offline docs.  Note:
 * sage.misc.html.math_parse() eats jQuery's dollar-sign shortcut. */
var jq = jQuery;
jq(document).ready(function () {
    var bar, bod, bg, fg, key, tog, wid_old, wid_new, resize, get_state, set_state;
    bod = jq('div.bodywrapper');
    bar = jq('div.sphinxsidebar');
    tog = jq('<div class="sphinxsidebartoggle"></div>');

    /* Delayed resize helper.  Not perfect but good enough. */
    resize = function () {
        setTimeout(function () {
            tog.height(bod.height());
        }, 100);
    };
    jq(window).resize(function () {
        resize();
    });

    /* Setup and add the toggle. See Sphinx v0.5.1 default.css. */
    fg = jq('div.sphinxsidebar p a').css('color') || 'rgb(152, 219, 204)';
    bg = jq('div.document').css('background-color') || 'rgb(28, 78, 99)';
    wid_old = '230px';
    wid_new = '5px';
    tog.css('background-color', bg)
        .css('border-width', '0px')
        .css('border-right', wid_new + ' ridge ' + bg)
        .css('cursor', 'pointer')
        .css('position', 'absolute')
        .css('left', '-' + wid_new)
        .css('top', '0px')
        .css('width', wid_new);
    bod.css('position', 'relative');
    bod.prepend(tog);
    resize();

    /* Cookie helpers. */
    key = 'sphinxsidebar=';
    set_state = function (s) {
        var date = new Date();
        /* Expiry in 7 days. */
        date.setTime(date.getTime() + (7 * 24 * 3600 * 1000));
        document.cookie = key + encodeURIComponent(s) + '; expires=' +
            date.toUTCString() + '; path=/';
    };
    get_state = function () {
        var i, c, crumbs = document.cookie.split(';');
        for (i = 0; i < crumbs.length; i += 1) {
            c = crumbs[i].replace(/^\s+/, '');
            if (c.indexOf(key) === 0) {
                return decodeURIComponent(c.substring(key.length, c.length));
            }
        }
        return null;
    };

    /* Event handlers. */
    tog.mouseover(function (ev) {
        tog.css('border-right-color', fg);
    }).mouseout(function (ev) {
        tog.css('border-right-color', bg);
    }).click(function (ev) {
        if (bod.hasClass('wide')) {
            bod.removeClass('wide');
            bod.css('margin-left', wid_old);
            bar.css('width', wid_old);
            bar.show();
            set_state('visible');
        } else {
            set_state('hidden');
            bar.hide();
            bar.css('width', '0px');
            bod.css('margin-left', wid_new);
            bod.addClass('wide');
        }
        resize();
    });

    /* Hide the normally visible sidebar? */
    if (get_state() === 'hidden') {
        tog.trigger('click');
    } else {
        set_state('visible');
    }
});
    </script>
  
<div style="position: absolute; width: 0px; height: 0px; overflow: hidden; padding: 0px; border: 0px; margin: 0px;"><div id="MathJax_Font_Test" style="position: absolute; visibility: hidden; top: 0px; left: 0px; width: auto; padding: 0px; border: 0px; margin: 0px; white-space: nowrap; text-align: left; text-indent: 0px; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; font-size: 40px; font-weight: normal; font-style: normal; font-family: STIXSizeOneSym, sans-serif;"></div></div></body></html>